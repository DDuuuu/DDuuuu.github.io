<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">
  <head>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
    <meta name="robots" content="noodp" />
    <title>DotNet基础 入门 - AndrewDu&#39;s blog</title><meta name="author" content="AndrewDu">
<meta name="author-link" content="https://github.com/DDuuuu">
<meta name="description" content="基本信息 CIL和JIT CIL通用中间语言 JIT just-in-time使得CIT代码仅在需要时才编译 程序集 包含可执行文件.exe和库函数.dll" /><meta name="keywords" content='DotNet基础, 入门' />
  <meta itemprop="name" content="DotNet基础 入门">
  <meta itemprop="description" content="基本信息 CIL和JIT CIL通用中间语言 JIT just-in-time使得CIT代码仅在需要时才编译 程序集 包含可执行文件.exe和库函数.dll">
  <meta itemprop="datePublished" content="2018-11-22T17:09:22+08:00">
  <meta itemprop="dateModified" content="2018-11-22T17:09:22+08:00">
  <meta itemprop="wordCount" content="20176">
  <meta itemprop="image" content="https://DDuuuu.github.io/images/logo150.png">
  <meta itemprop="keywords" content="DotNet基础,入门"><meta property="og:url" content="https://DDuuuu.github.io/2018/11/dotnetbase2-sql-adonet/">
  <meta property="og:site_name" content="AndrewDu&#39;s blog">
  <meta property="og:title" content="DotNet基础 入门">
  <meta property="og:description" content="基本信息 CIL和JIT CIL通用中间语言 JIT just-in-time使得CIT代码仅在需要时才编译 程序集 包含可执行文件.exe和库函数.dll">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2018-11-22T17:09:22+08:00">
    <meta property="article:modified_time" content="2018-11-22T17:09:22+08:00">
    <meta property="article:tag" content="DotNet基础">
    <meta property="article:tag" content="入门">
    <meta property="og:image" content="https://DDuuuu.github.io/images/logo150.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://DDuuuu.github.io/images/logo150.png">
  <meta name="twitter:title" content="DotNet基础 入门">
  <meta name="twitter:description" content="基本信息 CIL和JIT CIL通用中间语言 JIT just-in-time使得CIT代码仅在需要时才编译 程序集 包含可执行文件.exe和库函数.dll">
<meta name="application-name" content="Andrew.Du">
<meta name="apple-mobile-web-app-title" content="Andrew.Du"><meta name="theme-color" data-light="#f8f8f8" data-dark="#252627" content="#f8f8f8"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://DDuuuu.github.io/2018/11/dotnetbase2-sql-adonet/" /><link rel="prev" href="https://DDuuuu.github.io/2018/10/dotnetbase2-sql-adonet/" /><link rel="next" href="https://DDuuuu.github.io/2019/03/web3-javascript/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="/lib/fontawesome-free/all.min.css" as="style" onload="this.removeAttribute('onload');this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" href="/lib/animate/animate.min.css" as="style" onload="this.removeAttribute('onload');this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "DotNet基础 入门",
    "inLanguage": "zh-CN",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https:\/\/DDuuuu.github.io\/2018\/11\/dotnetbase2-sql-adonet\/"
    },"image": ["https:\/\/DDuuuu.github.io\/images\/logo192.png"],"genre": "posts","keywords": "DotNet基础, 入门","wordcount":  20176 ,
    "url": "https:\/\/DDuuuu.github.io\/2018\/11\/dotnetbase2-sql-adonet\/","datePublished": "2018-11-22T17:09:22+08:00","dateModified": "2018-11-22T17:09:22+08:00","license": "Copyright© Andrew.Du","publisher": {
      "@type": "Organization",
      "name": "AndrewDu"},"author": {
        "@type": "Person",
        "name": "AndrewDu"
      },"description": ""
  }
  </script></head>
  <body data-header-desktop="sticky" data-header-mobile="auto"><script>(window.localStorage?.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('data-theme', 'dark');</script><div class="wrapper" data-page-style="normal"><header class="desktop animate__faster" id="header-desktop">
  <div class="header-wrapper" data-github-corner="right">
    <div class="header-title">
      <a href="/" title="AndrewDu&#39;s blog"><span class="typeit"><template>AndrewDu&#39;s blog</template></span></a><span class="header-subtitle"></span></div>
    <nav>
      <ul class="menu"><li class="menu-item">
              <a
                class="menu-link"
                href="/"
                title="主页"
                
              ><i class="fa-solid fa-home fa-fw fa-sm" aria-hidden="true"></i> 主页</a></li><li class="menu-item">
              <a
                class="menu-link"
                href="/archives/"
                title="归档"
                
              ><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden="true"></i> 归档</a></li><li class="menu-item">
              <a
                class="menu-link"
                href="/categories/"
                
                
              ><i class="fa-solid fa-folder-tree fa-fw fa-sm" aria-hidden="true"></i> 类别</a></li><li class="menu-item">
              <a
                class="menu-link"
                href="/about/"
                
                
              ><i class="fa-solid fa-link fa-fw fa-sm" aria-hidden="true"></i> 关于</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id="search-desktop">
            <input type="text" placeholder="搜索文章标题或内容……" id="search-input-desktop">
            <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
              <i class="fa-solid fa-search fa-fw" aria-hidden="true"></i>
            </a>
            <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
              <i class="fa-solid fa-times-circle fa-fw" aria-hidden="true"></i>
            </a>
            <span class="search-button search-loading" id="search-loading-desktop">
              <i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
            </span>
          </li><li class="menu-item theme-switch" title="切换主题">
          <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
        </li></ul>
    </nav>
  </div>
</header><header class="mobile animate__faster" id="header-mobile">
  <div class="header-container">
    <div class="header-wrapper">
      <div class="header-title">
        <a href="/" title="AndrewDu&#39;s blog"><span class="typeit"><template>AndrewDu&#39;s blog</template></span></a><span class="header-subtitle"></span></div>
      <div class="menu-toggle" id="menu-toggle-mobile">
        <span></span><span></span><span></span>
      </div>
    </div>
    <nav>
      <ul class="menu" id="menu-mobile"><li class="search-wrapper">
            <div class="search mobile" id="search-mobile">
              <input type="text" placeholder="搜索文章标题或内容……" id="search-input-mobile">
              <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                <i class="fa-solid fa-search fa-fw" aria-hidden="true"></i>
              </a>
              <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                <i class="fa-solid fa-times-circle fa-fw" aria-hidden="true"></i>
              </a>
              <span class="search-button search-loading" id="search-loading-mobile">
                <i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
              </span>
            </div>
            <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
              取消
            </a>
          </li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/"
                  title="主页"
                  
                ><i class="fa-solid fa-home fa-fw fa-sm" aria-hidden="true"></i> 主页</a></li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/archives/"
                  title="归档"
                  
                ><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden="true"></i> 归档</a></li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/categories/"
                  
                  
                ><i class="fa-solid fa-folder-tree fa-fw fa-sm" aria-hidden="true"></i> 类别</a></li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/about/"
                  
                  
                ><i class="fa-solid fa-link fa-fw fa-sm" aria-hidden="true"></i> 关于</a></li><li class="menu-item menu-system">
          <span class="menu-system-item theme-switch" title="切换主题"><i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i></span></li>
      </ul>
    </nav>
  </div>
</header><div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
  </div>
  <div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
  </div><nav aria-label="breadcrumb" class="breadcrumb-container sticky">
    <ol class="breadcrumb"><li class="breadcrumb-item"><a href="/" title="AndrewDu&#39;s Blog">主页</a></li><li class="breadcrumb-item"><a href="/posts/" title="Posts">文章</a></li><li class="breadcrumb-item active" aria-current="page">DotNet基础 入门</li>
    </ol>
  </nav><main class="container"><aside class="aside-collection animate__animated animate__fadeIn animate__faster" aria-label="合集"></aside>

  <article class="page single">
    <div class="header"><h1 class="single-title animate__animated animate__flipInX"><span>DotNet基础 入门</span>
      </h1></div><div class="post-meta">
      <div class="post-meta-line"><span class="post-author"><a href="https://github.com/DDuuuu" title="作者"target="_blank" rel="external nofollow noopener noreferrer author" class="author"><i class="fa-solid fa-user-circle" aria-hidden="true"></i>
    AndrewDu</a></span><span class="post-included-in">&nbsp;收录于 <a href="/categories/dotnet%E5%9F%BA%E7%A1%80/" class="post-category" title="分类 - DotNet基础"><i class="fa-regular fa-folder fa-fw" aria-hidden="true"></i> DotNet基础</a></span></div><div class="post-meta-line"><span title="发布于 2018-11-22 17:09:22"><i class="fa-solid fa-calendar-days fa-fw me-1" aria-hidden="true"></i><time datetime="2018-11-22">2018-11-22</time></span>&nbsp;<span title="20176 字"><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden="true"></i>约 20200 字</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden="true"></i>预计阅读 41 分钟</span>&nbsp;<span id="busuanzi_container_page_pv" class="busuanzi_visitors comment-visitors" data-flag-title="DotNet基础 入门">
              <i class="fa-regular fa-eye fa-fw me-1" aria-hidden="true"></i><span id="busuanzi_value_page_pv">-</span>&nbsp;次阅读
            </span>&nbsp;</div>
    </div><div class="details toc" id="toc-static" data-kept="false">
        <div class="details-summary toc-title">
          <span>目录</span>
          <span><i class="details-icon fa-solid fa-angle-right" aria-hidden="true"></i></span>
        </div>
        <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#基本信息">基本信息</a>
      <ul>
        <li><a href="#cil和jit">CIL和JIT</a></li>
        <li><a href="#程序集">程序集</a></li>
        <li><a href="#clr">CLR</a></li>
        <li><a href="#编译过程">编译过程</a></li>
      </ul>
    </li>
    <li><a href="#基本语法">基本语法</a>
      <ul>
        <li><a href="#注释">注释</a></li>
        <li><a href="#命名空间">命名空间</a></li>
        <li><a href="#代码大纲功能">代码大纲功能</a></li>
        <li><a href="#变量">变量</a></li>
        <li><a href="#基本运算符">基本运算符</a></li>
        <li><a href="#基本语句">基本语句</a></li>
        <li><a href="#基本数据结构">基本数据结构</a></li>
      </ul>
    </li>
    <li><a href="#基本函数">基本函数</a></li>
    <li><a href="#调试">调试</a>
      <ul>
        <li><a href="#断点">断点</a></li>
        <li><a href="#跟踪点">跟踪点</a></li>
        <li><a href="#trace">Trace</a></li>
        <li><a href="#异常">异常</a></li>
      </ul>
    </li>
    <li><a href="#面向对象编程">面向对象编程</a>
      <ul>
        <li><a href="#构造函数">构造函数</a></li>
        <li><a href="#派生类构造函数的调用">派生类构造函数的调用</a></li>
        <li><a href="#访问修饰符">访问修饰符</a></li>
        <li><a href="#字段和属性">字段和属性</a></li>
        <li><a href="#接口">接口</a></li>
        <li><a href="#继承">继承</a></li>
        <li><a href="#is-and--as">is and  as</a></li>
        <li><a href="#多态">多态</a></li>
        <li><a href="#密封类和密封方法">密封类和密封方法</a></li>
        <li><a href="#托管和非托管">托管和非托管</a></li>
        <li><a href="#指针">指针</a></li>
        <li><a href="#运算符重载">运算符重载</a></li>
        <li><a href="#事件">事件</a></li>
        <li><a href="#引用类型还是值类型">引用类型还是值类型</a></li>
        <li><a href="#定义类">定义类</a></li>
        <li><a href="#定义类成员">定义类成员</a></li>
        <li><a href="#泛型">泛型</a></li>
        <li><a href="#事件-1">事件</a></li>
        <li><a href="#特性元数据">特性，元数据</a></li>
      </ul>
    </li>
    <li><a href="#补充">补充</a></li>
  </ul>
</nav></div>
      </div><div class="content" id="content" data-end-flag="感谢阅读！"><h2 id="基本信息" class="heading-element"><span>基本信息</span>
  <a href="#%e5%9f%ba%e6%9c%ac%e4%bf%a1%e6%81%af" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><h3 id="cil和jit" class="heading-element"><span>CIL和JIT</span>
  <a href="#cil%e5%92%8cjit" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ul>
<li>CIL通用中间语言</li>
<li>JIT  just-in-time使得CIT代码仅在需要时才编译</li>
</ul>
<h3 id="程序集" class="heading-element"><span>程序集</span>
  <a href="#%e7%a8%8b%e5%ba%8f%e9%9b%86" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ul>
<li>包含可执行文件.exe和库函数.dll和资源文件，不必把程序集集中到一个地方，全局程序缓存</li>
<li>程序集完全自描述的，逻辑单元而不是物理单元</li>
<li>可执行代码和库代码使用相同程序集结构，可执行文件多了一个主程序入口点。</li>
<li>程序集的一个重要特征是它们包含<strong>元数据描</strong>述了对应代码中定义的类型和方法。</li>
</ul>
<h3 id="clr" class="heading-element"><span>CLR</span>
  <a href="#clr" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>公共语言运行库CLR：包含实时编译器JIT,在程序运行时，JIT编译器会从IL代码生成本地代码，其他部分是垃圾回收器GC,调试器扩展和线程实用工具。垃圾回收器负责回收内存，调试扩展器允许在不同编程语言之间启动调试会话，线程实用工具负责在底层平台创建线程。</p>
<ul>
<li>管理着正在执行的代码包括管理内存，处理安全以及跨语言调试</li>
<li>代码托管最重要的是内存回收机制</li>
<li>winform基于像素</li>
<li>wpf基于pirectX</li>
</ul>
<p>CLR执行应用程序之前，编写好源代码都需要编译，编译分为两个阶段</p>
<ul>
<li>将源代码编译成microsoft中间语言IL</li>
<li>CLR将I编译成平台专用的的本地代码</li>
</ul>
<p>clr还有一个类型加载器的类型系统，类型加载器负责从程序集中加载类型。</p>
<h3 id="编译过程" class="heading-element"><span>编译过程</span>
  <a href="#%e7%bc%96%e8%af%91%e8%bf%87%e7%a8%8b" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ul>
<li>.net兼容语言编写程序，托管语言</li>
<li>将代码编译为中间代码CIL，这未必是单文件，可以有多个源代码文件，再把链接带一个程序集中，称之为链接</li>
<li>使用JIT编译为本机代码</li>
<li>在托管的CLR环境下运行本机代码</li>
</ul>
<h2 id="基本语法" class="heading-element"><span>基本语法</span>
  <a href="#%e5%9f%ba%e6%9c%ac%e8%af%ad%e6%b3%95" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><h3 id="注释" class="heading-element"><span>注释</span>
  <a href="#%e6%b3%a8%e9%87%8a" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ul>
<li>/*             */和一行//</li>
<li>///可以通过配置，将这些注释提取出来组成文档文件</li>
</ul>
<h3 id="命名空间" class="heading-element"><span>命名空间</span>
  <a href="#%e5%91%bd%e5%90%8d%e7%a9%ba%e9%97%b4" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><h3 id="代码大纲功能" class="heading-element"><span>代码大纲功能</span>
  <a href="#%e4%bb%a3%e7%a0%81%e5%a4%a7%e7%ba%b2%e5%8a%9f%e8%83%bd" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ul>
<li>#region Using directives</li>
<li>#endregion，大纲的名字为Using directives</li>
</ul>
<h3 id="变量" class="heading-element"><span>变量</span>
  <a href="#%e5%8f%98%e9%87%8f" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ul>
<li>先声明后使用</li>
</ul>
<p>变量初始化：变量是类或结构中的字段，如果没有显式初始化，则创建这些变量时，其默认值就是0.方法的局部变量必须在代码中显示初始化。</p>
<ul>
<li>
<p>整数</p>
<ul>
<li>sbyte System.SByte -128~127</li>
<li>byte   System.Byte   0~255</li>
<li>short  System.Int16   -32768~32767</li>
<li>ushort  System.UInt16  0~65535</li>
<li>int    System.Int32       -21亿~21亿</li>
<li>uint   System.UInt32          42亿</li>
<li>long   System.Int64            19位数字</li>
<li>ulong   System.UInt64          20位数字</li>
</ul>
</li>
<li>
<p>浮点类型</p>
<ul>
<li>位是最小数据单位，只能表示0-1</li>
<li>字节，<strong>8个二进制位构成1个字节，是存储空间的基本计量单位</strong>，</li>
<li>字：由若干字节构成，不同计算机有不同的字长，8位计算机一个字等于一个字节，16位一个字等于两个字节，字是计算机数据处理和运算的单位</li>
<li>1kb等于1024个字节</li>
<li>1M等于1024KB</li>
<li>1G等于1024M</li>
<li>1T等于1024G</li>
<li>float   System.Single               4字节</li>
<li>double  System.Double			8个字节</li>
<li>decimal System.Decimal		16个字节</li>
</ul>
</li>
<li>
<p>布尔和文本</p>
<ul>
<li>char   System.Char     Unicode     0~65535     2个字节</li>
<li>bool   System.Boolean                               1个字节</li>
<li>string System.String</li>
</ul>
</li>
<li>
<p>转义字符</p>
<ul>
<li>'      单引号   0x0027</li>
<li>'&rsquo;    双引号     0x0022</li>
<li>\    反斜杠      0x005c</li>
<li>\0    空            0x0000</li>
<li>\a    警告         0x0007</li>
<li>\b    退格       0x0008</li>
<li>\f     换页      0x000C</li>
<li>\n     换行    0x0000A</li>
<li>\r     回车     0x000D</li>
<li>\t     水平制表符    0x0009</li>
<li>\v   垂直制表符     0x000B</li>
<li>@转义字符，避免大量使用\</li>
</ul>
</li>
<li>
<p>全局变量：Program.全局变量，在声明变量前要进行初始化</p>
</li>
<li>
<p>常量：</p>
<ul>
<li>常量必须初始化，指定值后不能更改。</li>
<li>常量总是隐式静态的，</li>
</ul>
</li>
<li>
<p>值类型和引用类型：值类型存储<strong>在栈</strong>中，应用类型存储在<strong>堆</strong>中。值类型和引用类型互换要经过装箱拆箱，在传递函数参数时，值类型会<strong>进行复制</strong>，而引用相当于<strong>传递指针</strong>，返回值相同。引用类型由垃圾回收器进行回收，值类型不需要，超出其作用域就会在内存中删除。</p>
</li>
<li>
<p>ref:如果是结构类型使用ref传递参数，则变成传递引用，**但如果是引用类型，即使参数在函数中变化了引用，新的应用还是会传递回去。**ref传递的值要先初始化。</p>
</li>
<li>
<p>out：用法基本和ref一样，但传入的值只需要定义</p>
</li>
<li>
<p>可空类型：int? 和int,唯一的多开销是一个可以确定它是否为空 的布尔成员，值可以直接转换可空，int?=int;可空转换成值需要强制int=(int)int?;但如果为空会生成一个异常，最好的方法是int=int?.hasvalue?int?.value:-1；可以转换成较短短语int=int??-1</p>
</li>
<li>
<p>枚举也是值类型：默认情况下，枚举是int,也可以改变成其他整数类型，强制转换将int转换成枚举，当分配给常量是不同位时，flags属性需要枚举设置，获得所有枚举，var day in Enum.GetName(typeof(Color));</p>
</li>
<li>
<p>结构：值类型，不能继承，每个结构都自动由ValueType派生。</p>
</li>
</ul>
<h3 id="基本运算符" class="heading-element"><span>基本运算符</span>
  <a href="#%e5%9f%ba%e6%9c%ac%e8%bf%90%e7%ae%97%e7%ac%a6" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ul>
<li>一目运算符</li>
<li>二目运算符
<ul>
<li>=</li>
<li>+=</li>
<li>-=</li>
<li>*=</li>
<li>/=</li>
<li>%=</li>
<li>运算符优先级
<ul>
<li>++,&ndash;(前缀);(),+,-,!,~</li>
<li>*,/,%</li>
<li>+,-</li>
<li>&gt;&gt; ,&laquo;</li>
<li>&lt;,&gt;,&lt;=，&gt;=</li>
<li>==,！=</li>
<li>&amp;</li>
<li>^</li>
<li>|</li>
<li>&amp;&amp;</li>
<li>||</li>
<li>=,+=,-=,*=,/=,%=</li>
<li>++,&ndash;后缀</li>
</ul>
</li>
</ul>
</li>
<li>布尔运算符
<ul>
<li>！</li>
<li>&amp;</li>
<li>|</li>
<li>^一真一否才为真</li>
</ul>
</li>
</ul>
<h3 id="基本语句" class="heading-element"><span>基本语句</span>
  <a href="#%e5%9f%ba%e6%9c%ac%e8%af%ad%e5%8f%a5" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ul>
<li>
<p>goto语句</p>
<p>goto <code>&lt;labelName&gt;</code></p>
<p><code>&lt;labelName&gt;</code>:</p>
</li>
<li>
<p>if语句</p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">if</span><span class="p">(&lt;</span><span class="n">test</span><span class="p">&gt;)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="n">code</span> <span class="n">executed</span> <span class="k">if</span> <span class="p">&lt;</span><span class="n">testis</span> <span class="kc">true</span><span class="p">&gt;;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">else</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="n">code</span> <span class="n">executed</span> <span class="k">if</span> <span class="p">&lt;</span><span class="n">testis</span> <span class="kc">false</span><span class="p">&gt;;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>switch</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">switch</span><span class="p">(&lt;</span><span class="n">testvar</span><span class="p">&gt;)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">case</span><span class="p">&lt;</span><span class="n">comparsionVall</span><span class="p">&gt;:</span>
</span></span><span class="line"><span class="cl">		<span class="p">&lt;</span><span class="n">code</span> <span class="n">to</span> <span class="n">execute</span> <span class="k">if</span> <span class="p">&lt;</span><span class="n">testVar</span><span class="p">&gt;&gt;==&lt;</span><span class="n">comparisonvall</span><span class="p">&gt;&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">........</span>
</span></span><span class="line"><span class="cl">	<span class="k">default</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">		<span class="p">&lt;</span><span class="n">code</span> <span class="n">to</span> <span class="n">execute</span> <span class="k">if</span> <span class="p">&lt;</span><span class="n">testVar</span><span class="p">&gt;&gt;!=&lt;</span><span class="n">comparisonvall</span><span class="p">&gt;&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>do</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">do</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="n">code</span> <span class="n">to</span> <span class="n">be</span> <span class="n">looped</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="k">while</span><span class="p">(&lt;</span><span class="n">Test</span><span class="p">&gt;)</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>while</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">while</span><span class="p">(&lt;</span><span class="n">test</span><span class="p">&gt;)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="n">code</span> <span class="n">to</span> <span class="n">looped</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>for</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">for</span><span class="p">(&lt;</span><span class="n">initialization</span><span class="p">&gt;;&lt;</span><span class="n">condition</span><span class="p">&gt;;&lt;</span><span class="n">operation</span><span class="p">&gt;)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="n">code</span> <span class="n">to</span> <span class="n">loop</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>foreach</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">foreach</span><span class="p">(&lt;</span><span class="n">baseType</span><span class="p">&gt;&lt;</span><span class="n">name</span><span class="p">&gt;</span><span class="k">in</span><span class="p">&lt;</span><span class="n">array</span><span class="p">&gt;)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//can use &lt;namefor each element</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span><span class="c1">//该函数只能只读    </span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>循环中的中断
<ul>
<li>循环的中断：</li>
<li>break立刻终止循环</li>
<li>continue立刻终止当前循环</li>
<li>goto可以跳出循环</li>
<li>return跳出循环,即包含循环的函数</li>
</ul>
</li>
</ul>
<h3 id="基本数据结构" class="heading-element"><span>基本数据结构</span>
  <a href="#%e5%9f%ba%e6%9c%ac%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ul>
<li>
<p>转换</p>
<ul>
<li>隐式转换：编译器执行转换</li>
<li>显示转换：需要额外转换
<code>(&lt;destinationType&gt;)&lt;sourceVar&gt;</code></li>
<li>显示转换的检查：checked和unchecked</li>
<li>checked(
<code>&lt;expression&gt;</code>)检查是否会溢出，溢出则出现错误</li>
<li>unchecked(<code>&lt;expression&gt;</code>)溢出不出现错误
可以通过设置属性，使得显示转换都默认检查checked</li>
</ul>
</li>
<li>
<p>枚举</p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kd">enum</span><span class="p">&lt;</span><span class="n">typename</span><span class="p">&gt;:&lt;</span><span class="n">underlyingType</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="n">value1</span><span class="p">&gt;,</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="n">value2</span><span class="p">&gt;=&lt;</span><span class="n">actualValue2</span><span class="p">&gt;,</span>
</span></span><span class="line"><span class="cl">	<span class="p">...</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>结构体：值类型</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="n">struct</span><span class="p">&lt;</span><span class="n">typename</span><span class="p">&gt;:&lt;</span><span class="n">underlyingType</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="n">memberDeclarations</span><span class="p">&gt;,</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="p">...</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>数组
<ul>
<li>数组声明：<code>&lt;baseType&gt;[]&lt;name&gt;;</code></li>
<li>二维数组声明：<code>&lt;baseType&gt;[,]&lt;name&gt;;</code></li>
<li>数组调用：<code>frendName[index]</code></li>
<li>锯齿数组</li>
</ul>
</li>
</ul>
<h2 id="基本函数" class="heading-element"><span>基本函数</span>
  <a href="#%e5%9f%ba%e6%9c%ac%e5%87%bd%e6%95%b0" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><ul>
<li>Console
<ul>
<li>Console.WriteLine(&ldquo;字符串&rdquo;);</li>
<li>Console.WriteLine(&quot;{0}{1}{2}&quot;,n_a,n_b,n_c);</li>
<li>str=Console.ReadLine();</li>
</ul>
</li>
<li>Convert
<ul>
<li>n_double=Convert.ToDouble();强制转换成double</li>
<li>n_int=Convert.ToInt32();强制转换成int</li>
<li>ToBase64CharArray	将 8 位无符号整数数组的子集转换为用 Base 64 数字编码的 Unicode 字符数组的等价子集。</li>
<li>ToBase64String	将 8 位无符号整数数组的值转换为它的等效 String 表示形式（使用 base 64 数字编码）。</li>
<li>ToBoolean	 将指定的值转换为等效的布尔值。</li>
<li>ToByte	 将指定的值转换为 8 位无符号整数。</li>
<li>ToChar	 将指定的值转换为 Unicode 字符。</li>
<li>ToDateTime	 将指定的值转换为 DateTime。</li>
<li>ToDecimal	 将指定值转换为 Decimal 数字。</li>
<li>ToDouble	 将指定的值转换为双精度浮点数字。</li>
<li>ToInt16	 将指定的值转换为 16 位有符号整数。</li>
<li>ToInt32	 将指定的值转换为 32 位有符号整数。</li>
<li>ToInt64	 将指定的值转换为 64 位有符号整数。</li>
<li>ToSByte	 将指定的值转换为 8 位有符号整数。</li>
<li>ToSingle	 将指定的值转换为单精度浮点数字。</li>
<li>ToString	 将指定值转换为其等效的 String 表示形式。</li>
<li>ToUInt16	 将指定的值转换为 16 位无符号整数。</li>
<li>ToUInt32	将指定的值转换为 32 位无符号整数。</li>
<li>ToUInt64	 将指定的值转换为 64 位无符号整数。</li>
<li>Convert.ReadKey( );</li>
</ul>
</li>
<li>enum
<ul>
<li><code>(enumerationType)Enum.Parse(typeof (enumerationType),enumerationValueString);</code>字符串转换成枚举</li>
</ul>
</li>
<li>string
<ul>
<li>.ToCharArray()这个函数可以将String编程char[]数组</li>
<li>.Length字符串长度</li>
<li>.ToLower字符串全部小写</li>
<li>.ToUpper字符串全部大写</li>
<li>.Trim字符串删除空格</li>
<li>.PadLeft()和.PadRight()字符串左边或者右边添加空格</li>
<li>.IndexOf(&rsquo;,&rsquo;);定位到，的下标</li>
<li>.Split(&rsquo; &lsquo;);切片</li>
</ul>
</li>
<li>object
<ul>
<li>类的函数基本是object函数</li>
<li>.ToString()输出类名；</li>
</ul>
</li>
<li>函数格式</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kd">static</span> <span class="p">&lt;</span><span class="n">returnType</span><span class="p">&lt;</span><span class="n">FunctionName</span><span class="p">&gt;(&lt;</span><span class="n">paramType</span><span class="p">&gt;&lt;</span><span class="n">paraName</span><span class="p">&gt;,...)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="p">...</span>
</span></span><span class="line"><span class="cl">	<span class="n">renturn</span> <span class="p">&lt;</span><span class="n">returnValue</span><span class="p">&gt;;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span><span class="c1">//普通函数定义</span></span></span></code></pre></td></tr></table>
</div>
</div><p>可以直接定义表达式函数<code>public bool IsSquare(Reactangle rect)=&gt;rect.height==rect.width;</code></p>
<ul>
<li>参数函数
<ul>
<li>参数数组，C#允许函数指定一个特殊参数，该参数必须是函数的最后一个，称为参数素组，</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kd">static</span> <span class="p">&lt;</span><span class="n">returnType</span><span class="p">&lt;</span><span class="n">FunctionName</span><span class="p">&gt;(&lt;</span><span class="n">p1Type</span><span class="p">&gt;&lt;</span><span class="n">p1Name</span><span class="p">&gt;,...</span><span class="n">Params</span><span class="p">&lt;</span><span class="n">type</span><span class="p">&gt;[]&lt;</span><span class="n">name</span><span class="p">&gt;)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="p">...</span>
</span></span><span class="line"><span class="cl">	<span class="n">renturn</span> <span class="p">&lt;</span><span class="n">returnValue</span><span class="p">&gt;;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c#" data-lang="c#"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Prigram</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="kd">static</span> <span class="kt">int</span> <span class="n">SunVals</span><span class="p">(</span><span class="k">params</span> <span class="kt">int</span> <span class="p">[]</span> <span class="n">vals</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">sum</span><span class="p">=</span><span class="m">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span><span class="p">(</span><span class="kt">int</span> <span class="n">val</span> <span class="k">in</span> <span class="n">vals</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="n">sum</span><span class="p">+=</span><span class="n">val</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">return</span> <span class="n">sum</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">static</span> <span class="k">void</span> <span class="n">Main</span><span class="p">(</span><span class="kt">string</span> <span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">sum</span><span class="p">=</span><span class="n">SumVals</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">9</span><span class="p">,</span><span class="m">8</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">console</span><span class="p">.</span><span class="n">writeline</span><span class="p">(</span><span class="s">&#34;summed values={0}&#34;</span><span class="p">,</span><span class="n">sum</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>可选参数</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">void</span> <span class="n">TestMethod</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">=</span><span class="m">12</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>引用参数
<ul>
<li>引用参数，需要用关键字ref</li>
<li>调用引用函数<code>&lt;FunctionName&gt;(ref &lt;paraName&gt;)</code></li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c#" data-lang="c#"><span class="line"><span class="cl"><span class="kd">static</span> <span class="p">&lt;</span><span class="n">returnType</span><span class="p">&lt;</span><span class="n">FunctionName</span><span class="p">&gt;(</span><span class="k">ref</span> <span class="p">&lt;</span><span class="n">paramType</span><span class="p">&gt;&lt;</span><span class="n">paraName</span><span class="p">&gt;,...)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="p">...</span>
</span></span><span class="line"><span class="cl">	<span class="n">renturn</span> <span class="p">&lt;</span><span class="n">returnValue</span><span class="p">&gt;;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>扩展方法
<code>public static int GetWordCount(this string s)=&gt;s.split().length;</code>
调用<code>int wordcount=fox.GetWordCount();</code></p>
</li>
<li>
<p>函数重载</p>
<ul>
<li>特征标不一样就行</li>
<li>引用和非引用也属于重载</li>
</ul>
</li>
<li>
<p>委托</p>
<ul>
<li>委托，和重载差不多，只不过重载特征表不同，而委托特征标相同而函数名不同，可以根据需求NEW出不同的函数，委托的利用在于可以将其当成参数传递给函数，让函数因需求执行不同的操作，类似于多态</li>
<li>委托是一种存储函数引用的类型</li>
<li>委托声明类似于函数，但是不带函数体，且要使用关键字delegate，委托指定了一个返回类型和一个参数列表</li>
<li>定义了委托后，就可以声明该委托类型的变量，接着把这个变量初始化为与委托具有相同返回类型和参数列表的函数引用，之后就可以使用委托变量调用这个函数</li>
<li>例子，可以把委托变量作为参数传递给一个函数，这样，该函数就可以使用委托调用它引用的任何函数</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c#" data-lang="c#"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Program</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">delegate</span> <span class="kt">double</span> <span class="n">ProcessDelegate</span><span class="p">(</span><span class="kt">double</span> <span class="n">param1</span><span class="p">,</span> <span class="kt">double</span> <span class="n">param2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="kd">static</span> <span class="kt">double</span> <span class="n">Multiply</span><span class="p">(</span><span class="kt">double</span> <span class="n">param1</span><span class="p">,</span> <span class="kt">double</span> <span class="n">param2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">param1</span> <span class="p">*</span> <span class="n">param2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">static</span> <span class="kt">double</span> <span class="n">Divide</span><span class="p">(</span><span class="kt">double</span> <span class="n">param1</span><span class="p">,</span> <span class="kt">double</span> <span class="n">param2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">param1</span> <span class="p">/</span> <span class="n">param2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">static</span> <span class="k">void</span> <span class="n">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">ProcessDelegate</span> <span class="n">process</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;imput two intege：&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="kt">string</span> <span class="n">input</span> <span class="p">=</span> <span class="n">Console</span><span class="p">.</span><span class="n">ReadLine</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="kt">string</span> <span class="p">[]</span> <span class="n">commaPos</span> <span class="p">=</span> <span class="n">input</span><span class="p">.</span><span class="n">Split</span><span class="p">(</span><span class="sc">&#39;,&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="kt">double</span> <span class="n">param1</span> <span class="p">=</span> <span class="n">Convert</span><span class="p">.</span><span class="n">ToDouble</span><span class="p">(</span><span class="n">commaPos</span><span class="p">[</span><span class="m">0</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="kt">double</span> <span class="n">param2</span> <span class="p">=</span> <span class="n">Convert</span><span class="p">.</span><span class="n">ToDouble</span><span class="p">(</span><span class="n">commaPos</span><span class="p">[</span><span class="m">1</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Enter M to Multiply or D to divide:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">input</span> <span class="p">=</span> <span class="n">Console</span><span class="p">.</span><span class="n">ReadLine</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">input</span> <span class="p">==</span> <span class="s">&#34;M&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">process</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ProcessDelegate</span><span class="p">(</span><span class="n">Multiply</span><span class="p">);</span><span class="c1">//process=Multiply;</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span>
</span></span><span class="line"><span class="cl">            <span class="n">process</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ProcessDelegate</span><span class="p">(</span><span class="n">Divide</span><span class="p">);</span><span class="c1">//process=Divide;</span>
</span></span><span class="line"><span class="cl">        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;result :{0}&#34;</span><span class="p">,</span> <span class="n">process</span><span class="p">(</span><span class="n">param1</span><span class="p">,</span> <span class="n">param2</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">        <span class="n">Console</span><span class="p">.</span><span class="n">ReadKey</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> </span></span></code></pre></td></tr></table>
</div>
</div><h2 id="调试" class="heading-element"><span>调试</span>
  <a href="#%e8%b0%83%e8%af%95" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><h3 id="断点" class="heading-element"><span>断点</span>
  <a href="#%e6%96%ad%e7%82%b9" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ul>
<li>可以查看输出窗口，输出/调试，</li>
<li>语句Debug.WriteLine()将调试信息显示到调试窗口</li>
<li>Trace.WriteLine()，用法相同，可以用于发布</li>
<li>Debug.WriteLine(&ldquo;Add 1 to i&rdquo;,&ldquo;MyFunc&rdquo;);结果为：</li>
<li>MyFunc:Add 1 to i;</li>
<li>using System.Diagnostics;</li>
<li>Debug.WriteLineIf()增加一个必选项，当是真的时候进行输出</li>
</ul>
<h3 id="跟踪点" class="heading-element"><span>跟踪点</span>
  <a href="#%e8%b7%9f%e8%b8%aa%e7%82%b9" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ul>
<li>有点类似于Debug.WriteLine()</li>
</ul>
<h3 id="trace" class="heading-element"><span>Trace</span>
  <a href="#trace" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ul>
<li><code>Trace.Assert(myVar&lt;0,&quot;variable out of bounds&quot;,&quot;please contact vendor with the error code KCW001.&quot;)</code></li>
</ul>
<p><img loading="lazy" src="/dotnet/image-20240701151156966.png" alt="image-20240701151156966" srcset="/dotnet/image-20240701151156966.png?size=small, /dotnet/image-20240701151156966.png?size=medium 1.5x, /dotnet/image-20240701151156966.png?size=large 2x" data-title="image-20240701151156966" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></p>
<h3 id="异常" class="heading-element"><span>异常</span>
  <a href="#%e5%bc%82%e5%b8%b8" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ul>
<li>try抛出异常，catch抛出异常时执行的代码，finally包含最终执行的代码</li>
<li>即使try中有return， finally还是会执行，在finally中还是会改变return中的值</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">try</span>
</span></span><span class="line"><span class="cl"><span class="p">{...}</span>
</span></span><span class="line"><span class="cl"><span class="k">catch</span><span class="p">(&lt;</span><span class="n">exceptionType</span><span class="p">&gt;</span><span class="n">e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{...}</span>
</span></span><span class="line"><span class="cl"><span class="k">finally</span>
</span></span><span class="line"><span class="cl"><span class="p">{...}</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>抛出异常包括内容
<code>throw(new ArgumentOutOfRangeException(&quot;MyIntProp&quot;,value,&quot;MyIntProp must be assigned a value between 0 and 10&quot;));</code></li>
<li>catch中捕获异常显示</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Exception {0} thrown.&#34;</span><span class="p">,</span> <span class="n">e</span><span class="p">.</span><span class="n">GetType</span><span class="p">().</span><span class="n">FullName</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">   <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Message:\n\&#34;{0}\&#34;&#34;</span><span class="p">,</span> <span class="n">e</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="面向对象编程" class="heading-element"><span>面向对象编程</span>
  <a href="#%e9%9d%a2%e5%90%91%e5%af%b9%e8%b1%a1%e7%bc%96%e7%a8%8b" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><p>类包括：字段/属性/方法/常量/构造函数/索引器/运算符/事件/类型/析构函数</p>
<p>字段：不应该被设置为public</p>
<p>属性：自动实现的属性也就是没有声明私有字段，就可以使用初始化器来初始化；<code>public int Age{set;get;}=42;</code> set和get可以被访问修饰符修饰，但get和set中必须有一个具有属性的访问级别，属性其实并不怎么消耗资源，因为在JIT中，被变成内联函数，</p>
<p>readonly:readonly只能在构造函数中赋值，然后就不好修改。</p>
<h3 id="构造函数" class="heading-element"><span>构造函数</span>
  <a href="#%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ul>
<li>静态构造函数
<ul>
<li>创建包含静态构造函数的类实例</li>
<li>访问包含静态构造函数的类的静态成员时，（无论创建多少个实例，静态构造函数只调用一次。）</li>
</ul>
</li>
<li>构造函数和析构函数，和C++一样</li>
<li>静态类不能实例化对象，只能包含静态成员，</li>
<li>如果没有构造函数，编译器会自动添加一个默认构造函数</li>
</ul>
<h3 id="派生类构造函数的调用" class="heading-element"><span>派生类构造函数的调用</span>
  <a href="#%e6%b4%be%e7%94%9f%e7%b1%bb%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0%e7%9a%84%e8%b0%83%e7%94%a8" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>构造函数总是按照层次结构顺序调用的：先调用object的构造函数，然后从上到下一次调用，直到达到编译器要实例化的类为止</p>
<p>如果要调用基类的非默认构造函数就需要使用构造函数初始化器。</p>
<h3 id="访问修饰符" class="heading-element"><span>访问修饰符</span>
  <a href="#%e8%ae%bf%e9%97%ae%e4%bf%ae%e9%a5%b0%e7%ac%a6" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>public/ 所有类型成员/任何代码均可以访问该项
protected/类型和内嵌类型的所有成员/只有派生类型能够访问该类
internal/所有类型和成员/只能包含他的程序集中能够访问该类
private/类型和内嵌类型的所有成员/只能在它所属的类型中访问该项
protected internal/类型和内嵌类型的所有成员/只能在包含他的程序集和派生类型的任何代码中访问该项</p>
<p>new/static /virtual/abstract/override/sealed/extern</p>
<h3 id="字段和属性" class="heading-element"><span>字段和属性</span>
  <a href="#%e5%ad%97%e6%ae%b5%e5%92%8c%e5%b1%9e%e6%80%a7" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ul>
<li>统一建模语言Unified Modeling Language(UML)</li>
</ul>
<h3 id="接口" class="heading-element"><span>接口</span>
  <a href="#%e6%8e%a5%e5%8f%a3" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ul>
<li>接口可以看成是类的引用，可以引用任何实现该接口的类</li>
<li>一般情况下接口只能包含：方法，属性，索引器，事件的声明</li>
<li>把公共实例(非静态)方法和属性组合起来，以封装特定功能的一个集合,接口不能实例化</li>
<li>IDisposable接口的对象必须实现其Dispose()方法，当不再需要某个对象时就调用这个方法，释放重要资源，</li>
<li>C#简化了这种方法，using关键字可以在代码块中初始化使用重要资源的对象，这个代码块的结尾会自动调用Dispose()方法</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="n">ClassName</span><span class="p">&gt;&lt;</span><span class="n">VariableName</span><span class="p">&gt;=</span><span class="k">new</span> <span class="p">&lt;</span><span class="n">ClassName</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl"><span class="p">...</span>
</span></span><span class="line"><span class="cl"><span class="n">using</span><span class="p">(&lt;</span><span class="n">VariableName</span><span class="p">&gt;)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">...</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="err">或</span>
</span></span><span class="line"><span class="cl"><span class="n">using</span><span class="p">(&lt;</span><span class="n">ClassName</span><span class="p">&gt;&lt;</span><span class="n">VariableName</span><span class="p">&gt;=</span><span class="k">new</span> <span class="p">&lt;</span><span class="n">ClassName</span><span class="p">&gt;())</span>
</span></span><span class="line"><span class="cl"><span class="p">{...}</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>接口可以彼此集成，和类的集成差不多</li>
</ul>
<h3 id="继承" class="heading-element"><span>继承</span>
  <a href="#%e7%bb%a7%e6%89%bf" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ul>
<li>C#类可以派生自另一个类和多个接口，只有虚方法和抽象方法才能使用override重写，不然是不能重写的，如果不重写虚方法或抽象方法，需要使用关键字new，那么调用的时候调用子类方法就可以使用base.方法</li>
<li>纯虚基类，重写方法，也可以不重写，虚方法可以实现，也可以实现（同属性）</li>
<li>基类成员的访问性 protected\privated\public</li>
<li>抽象基类不能实例化，抽象基类必须被继承，成员没有实现代码，在派生类中实现他们</li>
<li>抽象基类在UML中为斜体</li>
</ul>
<h3 id="is-and--as" class="heading-element"><span>is and  as</span>
  <a href="#is-and--as" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p><code>IBankAccount account= o as IBankAccount;</code>
<code>if(o is IBankAccount){IBankAccount account = (IBankAccount)o;}</code></p>
<h3 id="多态" class="heading-element"><span>多态</span>
  <a href="#%e5%a4%9a%e6%80%81" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ul>
<li>通过实例化不同的派生类调用派生类的重写方法</li>
<li>将派生类赋给基类调用基类重写方法，实际上调用了基类的重写方法</li>
<li>接口的多态性，尽管不能实例化接口，可以建立接口类型的变量，然后就可以在支持该接口的对象上，使用这个变量来访问接口提供的方法和属性
<ul>
<li>例如不适用基类提供的方法，而是把该方法放在接口上，实例化也支持该接口，唯一的区别是方法的实现代码不一样（接口不包含方法的实现），<strong>通过接口可以实现访问多个对象的方法而不依赖于一个公共的基类</strong></li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="n">Cow</span> <span class="n">myCow</span><span class="p">=</span><span class="k">new</span> <span class="n">Cow</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="n">Chicken</span> <span class="n">myChicken</span><span class="p">=</span><span class="k">new</span> <span class="n">Chicken</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="n">IConsume</span> <span class="n">consumeInterface</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">consumeInterface</span> <span class="p">=</span> <span class="n">myCow</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">consumeInterface</span><span class="p">.</span><span class="n">EatFood</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="n">consumeInterface</span> <span class="p">=</span> <span class="n">myChicken</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">consumeInterface</span><span class="p">.</span><span class="n">EatFood</span><span class="p">();</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>对象之间的关系
<ul>
<li><strong>包含关系</strong>，这个成员字段可以是公共字段，此时是继承关系一样，容器对象的用户就可以访问它的方法和属性，与继承不同的是，不能访问类的内部代码，类变成其私有变量</li>
<li>集合关系，增加了功能的数组</li>
</ul>
</li>
</ul>
<h3 id="密封类和密封方法" class="heading-element"><span>密封类和密封方法</span>
  <a href="#%e5%af%86%e5%b0%81%e7%b1%bb%e5%92%8c%e5%af%86%e5%b0%81%e6%96%b9%e6%b3%95" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>如果不允许创建派生自某个自定义类的类，该自定义类就应该是密封的，sealed</p>
<ul>
<li>使用密封类可以提高性能，编译器知道该类没有派生，因此就没有虚函数表</li>
<li>string是密封的</li>
</ul>
<h3 id="托管和非托管" class="heading-element"><span>托管和非托管</span>
  <a href="#%e6%89%98%e7%ae%a1%e5%92%8c%e9%9d%9e%e6%89%98%e7%ae%a1" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>托管和非托管资源，存储在托管或本机堆中的对象，垃圾回收器释放存储在托管堆中的对象，却不会释放本机堆中的对象。</p>
<p>值数据类型：window使用虚拟寻址系统，可以将程序所使用的内存地址映射内存中的实际地址（编译器来做）。每个进程都会有4G的内存，该内存被称为虚拟内存，从0开始往下排。在虚拟内存中有一个地方叫做栈，栈存储的是<strong>不是对象成员的值数据类型</strong>，调用方法时，栈存储传递给方法的所有参数副本。</p>
<p>栈实际上是向下填充的，先0x800000,然后0x799999</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">a</span><span class="p">=</span><span class="m">10</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">double</span> <span class="n">b</span><span class="p">=</span><span class="m">7999</span><span class="p">;</span></span></span></code></pre></td></tr></table>
</div>
</div><p>在运行到a=10时，int是四个字节，0x799999-0x799996被10占用，下一个空闲单元是0x799995,double 8个字节，就是0x799987 超出b的定义域后就会加8个字节，超出a的定义域后就会加4个字节。
ab进入栈的顺序是由编译器来决定的，编译器会查看作用域的顺序来决定哪个先进栈哪个后进栈。</p>
<p>引用类型的堆：堆上的内存是向上分配的</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">void</span> <span class="n">Work</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="n">Customer</span> <span class="n">arabel</span><span class="p">;</span><span class="c1">//1</span>
</span></span><span class="line"><span class="cl"><span class="n">arabel</span><span class="p">=</span> <span class="k">new</span> <span class="n">Customer</span><span class="p">();</span><span class="c1">//2</span>
</span></span><span class="line"><span class="cl"><span class="n">Customer</span> <span class="n">othercustomer2</span><span class="p">=</span><span class="k">new</span> <span class="n">Customer</span><span class="p">();</span><span class="c1">//3</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><p>首先1声明一个customer的引用arabel，在栈上给这个引用分配存储空间，该引用为4个字节，
2分配堆上的内存，以存储一个真正的Customer对象，然后把变量arabel的值设置为新分配的customer对象的内存地址，该customer可能包含32个字节，类的字节数和类的字段等成员有关</p>
<p>3是声明一个customer的引用，放在栈上，实例化一个customer对象放在堆上，将堆上的地址放到栈的引用上。</p>
<p>非托管堆：</p>
<p>当一个引用变量超出作用域时，它的引用会从栈中删除，但引用的对象任然在堆中，一直到程序终止，或垃圾回收器回收他们。</p>
<p>垃圾回收，删除堆中不再有被引用的所有对象，垃圾回收器（C++垃圾回收）在引用跟表中找到所有引用对象，在引用对象树中查找，在完成删除后，堆会立即把对象分散开来，与已经释放的内存混在一起。</p>
<p>托管堆：</p>
<p>如果托管堆也是这样，其给新对象分配内存时就是一个很难处理的问题，运行库必须遍历整个堆，才能找到足够大内存来存储新的对象。但垃圾回收器不会让堆处在这种状态，它在释放完可以释放的资源后，会将其他对象回推到堆的底部，再次形成连续数据块，在移动时所用引用都要更新，这需要垃圾回收器来完成。</p>
<p>垃圾回收期的压缩操作就是托管堆和非托管堆的区别，托管堆虽然要压缩，但分配内存时，只需要地址就好，不需要遍历地址列表。</p>
<p>创建对象时，<strong>会把对象放到托管堆上称为0代，创建新对象会被移动到这一部分，第一次回收后，保留下来的内容会被压缩移动到堆的下一部分上或世代部分，第1代对应部分，此时第0代对应的部分为空，新的对象依然被放到这个部分，遗留下来的内容让在第1代部分，第二次回收，第1代被压缩到第2代部分，第0代被压缩到第1代，第0代为空，放新的内容。如果新的对象超出第0代部分就会进行垃圾回收</strong></p>
<p>垃圾回收可以提供应用程序性能，可以在架构堆上处理较大对象的方式，</p>
<p>.NET较大对象有自己的堆，称为大对象堆，对象大于85000个字节就会被放在这个堆上，而不是主堆上，因为较大对象的压缩代价比较大，所以不放在主堆上压缩</p>
<p>第二代和大对象堆的回收即压缩过程是在后台线程中进行的</p>
<ul>
<li>强引用和弱引用</li>
</ul>
<p>仍在<strong>引用的对象的内存为强引用</strong>，可以回收不在根表中直接或间接引用的托管内存</p>
<p>A引用B,B引用C,C引用A，则GC会销毁所有对象。</p>
<p>实例化一个类，只要有代码引用它就是强引用</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">myclassVariable</span> <span class="p">=</span> <span class="k">new</span> <span class="n">MyClass</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">myCache</span><span class="p">=</span><span class="k">new</span> <span class="n">MyCache</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="n">myCache</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">myclassVariable</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">myclassVariable</span><span class="p">=</span><span class="kc">null</span><span class="c1">//3</span></span></span></code></pre></td></tr></table>
</div>
</div><p>当第3步运行时就不能释放myclassVariable所引用的内存，因为缓存中还存在引用。在弱引用中就可以避免这种现象。</p>
<p>弱引用可以创建和使用对象，但是如果垃圾回收器在运行就可以回收</p>
<p>弱引用是由WeakReference创建的。需要使用IsAlive属性来确认是否被回收，Target属性可以返回一个强引用，不为null就可以访问</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">myWeakReference</span> <span class="p">=</span> <span class="k">new</span> <span class="n">WeakRefernece</span><span class="p">(</span><span class="k">new</span> <span class="n">DataObject</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span><span class="p">(</span><span class="n">myWeakReference</span><span class="p">.</span><span class="n">IsActive</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="n">DataObject</span> <span class="n">strongReference</span><span class="p">=</span><span class="n">myWeakReference</span><span class="p">.</span><span class="n">Target</span> <span class="k">as</span> <span class="n">DataTarget</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span><span class="p">(</span><span class="n">strongReference</span><span class="p">!=</span><span class="kc">null</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">else</span>
</span></span><span class="line"><span class="cl"><span class="p">{}</span></span></span></code></pre></td></tr></table>
</div>
</div><p>垃圾回收器不释放非托管资源</p>
<p>比如：文件句柄，网络连接，数据库连接，等</p>
<p>定义类时，可以有两种机制来自动释放非托管资源</p>
<ul>
<li>声明一个析构函数（或则终结器），作为类成员</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">MyClass</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">~</span><span class="n">MyClass</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><p>编译器在编译析构函数时，会隐式把析构函数的代码编译为等价于重写Finalize()方法的代码，从而确保父类的Finalize（）会被执行</p>
<p>等价</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kd">protected</span> <span class="kd">override</span> <span class="k">void</span> <span class="n">Finalize</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">try</span>
</span></span><span class="line"><span class="cl"><span class="p">{}</span>
</span></span><span class="line"><span class="cl"><span class="k">finally</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">base</span><span class="p">.</span><span class="n">Finally</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><p>C#析构函数具有不确定性，无法确定析构函数会被何时执行，同时析构函数会延迟对象从内存中删除的时间，有析构函数两次才能删除对象，第一次调用析构函数，第二次调用才真正删除，同时会被另起一个线程来调用Finally()</p>
<ul>
<li>实现System.IDisposable 接口
该接口替代析构函数</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span><span class="n">IDisposable</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">void</span> <span class="n">Dispose</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Dispose()方法的实现显示释放由对象直接使用的所有非托管资源。Dispose为何时释放非托管资源提供了精确的控制。</p>
<p>using语句会自动调用Dispose()方法</p>
<p>上面的两种方法都实现了释放非托管资源</p>
<p>下面是一个双重实现的代码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">ResourceHolder</span><span class="p">:</span><span class="n">IDisposable</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="kd">private</span> <span class="kt">bool</span> <span class="n">_isDisposed</span><span class="p">=</span><span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">void</span> <span class="n">Dispose</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="n">DisPose</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">GC</span><span class="p">.</span><span class="n">SuppressFinalize</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">protected</span> <span class="k">virtual</span> <span class="k">void</span> <span class="n">Dispose</span><span class="p">(</span><span class="kt">bool</span> <span class="n">disposing</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span><span class="p">(!</span><span class="n">_isDisposed</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span><span class="p">(</span><span class="n">disposing</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="c1">//cleanup managed objects by calling their dispose() methods </span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//clean up unmanaged objects</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">_isDisposed</span> <span class="p">=</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">~</span><span class="n">ResourceHolder</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="n">Dispose</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">void</span> <span class="n">SomeMethod</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="c1">//enture object not already disposed before execution of any method </span>
</span></span><span class="line"><span class="cl"><span class="k">if</span><span class="p">(</span><span class="n">_isDisposed</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">throw</span> <span class="k">new</span> <span class="n">ObjectDisposedException</span><span class="p">(</span><span class="s">&#34;ResourceHolder&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//method implementation</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="指针" class="heading-element"><span>指针</span>
  <a href="#%e6%8c%87%e9%92%88" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>C#也是可以使用指针的，unsafe{}，在C#高级编程5.5不安全代码。留坑</p>
<h3 id="运算符重载" class="heading-element"><span>运算符重载</span>
  <a href="#%e8%bf%90%e7%ae%97%e7%ac%a6%e9%87%8d%e8%bd%bd" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><h3 id="事件" class="heading-element"><span>事件</span>
  <a href="#%e4%ba%8b%e4%bb%b6" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ul>
<li>对象可以激活和使用事件，作为他们处理的一部分，事件非常重要，可以在代码的其他部分起作用，类似于异常，但是功能更强大
<ul>
<li>可以在Animal对象添加到Animal集合中，执行特性的代码，而这部分代码不是Animal类的一部分，也不是调用Add()方法的代码的一部分，为此，需要给代码添加事件处理程序，这是一种特殊类型的函数，在事件发生时调用，还需要配置这个处理程序，以监听自己感兴趣的事情</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kd">private</span> <span class="k">void</span> <span class="n">Button1_Click_1</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">RoutedEventArgs</span> <span class="n">e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">((</span><span class="n">Button</span><span class="p">)</span><span class="n">sender</span><span class="p">).</span><span class="n">Content</span> <span class="p">=</span> <span class="s">&#34;clicked&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">Button</span> <span class="n">newButton</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Button</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">newButton</span><span class="p">.</span><span class="n">Content</span> <span class="p">=</span> <span class="s">&#34;NEW Button&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">newButton</span><span class="p">.</span><span class="n">Margin</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Thickness</span><span class="p">(</span><span class="m">10</span><span class="p">,</span> <span class="m">10</span><span class="p">,</span> <span class="m">200</span><span class="p">,</span> <span class="m">200</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">newButton</span><span class="p">.</span><span class="n">Click</span> <span class="p">+=</span> <span class="n">newButton_click</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">((</span><span class="n">Grid</span><span class="p">)((</span><span class="n">Button</span><span class="p">)</span><span class="n">sender</span><span class="p">).</span><span class="n">Parent</span><span class="p">).</span><span class="n">Children</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">newButton</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">private</span> <span class="k">void</span> <span class="n">newButton_click</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">RoutedEventArgs</span> <span class="n">e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">((</span><span class="n">Button</span><span class="p">)</span><span class="n">sender</span><span class="p">).</span><span class="n">Content</span> <span class="p">=</span> <span class="s">&#34;clicked&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="引用类型还是值类型" class="heading-element"><span>引用类型还是值类型</span>
  <a href="#%e5%bc%95%e7%94%a8%e7%b1%bb%e5%9e%8b%e8%bf%98%e6%98%af%e5%80%bc%e7%b1%bb%e5%9e%8b" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ul>
<li>在C#中，数据根据变量的类型以两种方法中的一种存储在一个变量中：
<ul>
<li>值类型的内存的同一个地方存储它们和它们的内容，栈</li>
<li>引用类型存储指向内存中其他某个位置的引用，实际内容存储在这个位置，堆</li>
</ul>
</li>
</ul>
<h3 id="定义类" class="heading-element"><span>定义类</span>
  <a href="#%e5%ae%9a%e4%b9%89%e7%b1%bb" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ul>
<li>类声明为内部，只有当前项目的代码能够访问 internal(默认)
其他项目代码也能访问public</li>
<li>类是抽象的，不能实例化，只能继承abstract，密封的sealed不能继承,如果基类是抽象的，在派生类必须全部实现
<ul>
<li>无或internal  只能在当前项目中访问</li>
<li>public可以在任何地方访问类</li>
<li>abstract或internal abstract类只能在当前项目访问，不能实例化，只能被继承</li>
<li>public abstracrt类可以在任何地方访问，不能实例化，只能继承</li>
<li>sealed或internal sealed类只能在当前项目访问，不能被继承，只能实例化</li>
<li>public sealed类可以在任何地方访问，不能被继承只能实例化</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">sealed</span> <span class="k">class</span> <span class="nc">MyClass</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//Class members</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>派生类的可访问性不能高于基类</li>
<li>类还可以指定接口，同时必须实现该接口的所有成员，如果不想使用给定的接口成员，就可以提供一个空的实现方法，继承类（只能有一个）再继承接口，接口可以有多个</li>
<li>接口的定义,不能在接口中使用abstract或sealed，可以使用继承的方式继承接口</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">interface</span> <span class="nc">IMyInterface</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">....</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>所有类都隐式继承System.Object类
<ul>
<li>多态性便可以使用，比较重要的基类方法GetType()ToStrign()</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">if</span><span class="p">(</span><span class="n">myObject</span><span class="p">.</span><span class="n">GetType</span><span class="p">()==</span><span class="k">typeof</span><span class="p">(</span><span class="n">MyComplexClass</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>初始化列表
<ul>
<li>：base(i)</li>
<li>:this(5,6)调用自己的两个参数的构造函数，可以伪装成默认构造函数</li>
</ul>
</li>
</ul>
<h3 id="定义类成员" class="heading-element"><span>定义类成员</span>
  <a href="#%e5%ae%9a%e4%b9%89%e7%b1%bb%e6%88%90%e5%91%98" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ul>
<li>public,private,internal,protected</li>
<li>readonly表示字段只能在执行构造函数的过程中赋值，static 静态变量，const也是静态的</li>
<li>方法
<ul>
<li>virtual方法可以重写</li>
<li>abstract方法必须在非抽象的派生类中重写（只用于抽象类中）</li>
<li>override方法重写了一个基类方法（如果方法被重写，就必须要使用关键字）,如果使用了override,也可以使用sealed来指定在派生类中不能对这个方法做进一步修改即这个方法不能由派生类重写</li>
<li>extern方法定义在其他地方</li>
</ul>
</li>
<li>多态测试，使用virtual和override多态测试成功</li>
<li>属性
<ul>
<li>定义与字段类似，get和set关键字来定义，可以控制属性的访问级别</li>
<li>右击refactor(重构)-Encapsulate Field可以快熟添加属性</li>
<li>自动属性：</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">int</span> <span class="n">MyIntProp</span> 
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">get</span><span class="p">;</span><span class="k">set</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><pre><code>+ 按通常的方式定义属性的名称、类型和可访问性，但是没有提供get和set的实现代码，实现代码由编译器提供（私有字段的名字也由编译器提供，将set变成private set即变成只读）
</code></pre>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kd">private</span> <span class="kt">int</span> <span class="n">myInt</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">int</span> <span class="n">myIntProp</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">get</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="n">myInt</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="k">set</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span><span class="p">(</span><span class="k">value</span><span class="p">&gt;</span><span class="m">0</span><span class="p">&amp;&amp;</span><span class="k">value</span><span class="p">&lt;</span><span class="m">10</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="n">myInt</span><span class="p">=</span><span class="k">value</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="k">else</span>
</span></span><span class="line"><span class="cl">			<span class="k">throw</span><span class="p">(</span><span class="k">new</span> <span class="n">ArgumentOutOfRangeException</span><span class="p">(</span><span class="s">&#34;MyIntProp&#34;</span><span class="p">,</span><span class="k">value</span><span class="p">,</span><span class="s">&#34;MyIntProp must be assigned a value between 0 and 10&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>隐藏
<ul>
<li>隐藏基类方法，会产生2个警告（如果要确定隐藏需要加上new）,无论基类怎样限制，只要派生类没有调用override都是影藏</li>
<li>要对派生类的用户隐藏继承的公共成员，但仍能访问其功能，要给继承的虚拟成员添加实现代码，而不是简单地用重写的新实现代码替换它，可以使用base关键字：base.DoSomething()</li>
<li>this最常用的功能是将当前对象实例的引用传递给一个方法，该方法有一个参数是指向基类的，this关键字的另一个常用方法是限定局部类型成员</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Animal</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="k">void</span> <span class="n">EatFood</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Animal is adjusted&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Chicken</span> <span class="p">:</span> <span class="n">Animal</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="k">void</span> <span class="n">EatFood</span><span class="p">()</span><span class="c1">//new public void EatFood()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Chicken is adjusted&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Cow</span> <span class="p">:</span> <span class="n">Animal</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="k">void</span> <span class="n">EatFood</span><span class="p">()</span><span class="c1">//new  public void EatFood()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Cow is adjusted&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>套嵌类型成员</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">MyClass</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="k">class</span> <span class="nc">MyNestedClass</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="kd">public</span> <span class="kt">int</span> <span class="n">NestedClassField</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span><span class="c1">//实例化时：</span>
</span></span><span class="line"><span class="cl"><span class="n">MyClass</span><span class="p">.</span><span class="n">MyNestedClass</span> <span class="n">myObj</span><span class="p">=</span><span class="k">new</span> <span class="n">MyClass</span><span class="p">.</span><span class="n">MyNestedClass</span><span class="p">();</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">ClassA</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kd">private</span> <span class="kt">int</span> <span class="n">state</span> <span class="p">=</span> <span class="p">-</span><span class="m">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kd">public</span> <span class="kt">int</span> <span class="n">State</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">get</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="n">state</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="kd">public</span> <span class="k">class</span> <span class="nc">ClassB</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="kd">public</span> <span class="k">void</span> <span class="n">SetPrivateState</span><span class="p">(</span><span class="n">ClassA</span> <span class="n">target</span><span class="p">,</span> <span class="kt">int</span> <span class="n">newState</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">target</span><span class="p">.</span><span class="n">state</span> <span class="p">=</span> <span class="n">newState</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="nc">Program</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kd">static</span> <span class="k">void</span> <span class="n">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">ClassA</span> <span class="n">myObject</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ClassA</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;myObject.State = {0}&#34;</span><span class="p">,</span> <span class="n">myObject</span><span class="p">.</span><span class="n">State</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">ClassA</span><span class="p">.</span><span class="n">ClassB</span> <span class="n">myOtherObject</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ClassA</span><span class="p">.</span><span class="n">ClassB</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="n">myOtherObject</span><span class="p">.</span><span class="n">SetPrivateState</span><span class="p">(</span><span class="n">myObject</span><span class="p">,</span> <span class="m">999</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;myObject.State = {0}&#34;</span><span class="p">,</span> <span class="n">myObject</span><span class="p">.</span><span class="n">State</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">Console</span><span class="p">.</span><span class="n">ReadKey</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span><span class="c1">//嵌套类修改只读变量</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>接口
<ul>
<li>接口不会有访问修饰符</li>
<li>接口成员没有实现</li>
<li>接口没有字段成员(但是接口可以定义自动属性)</li>
<li>不能有关键字static/virtual/abstract/sealed来定义接口</li>
<li>但接口是可以继承的，如果要隐藏基类成员，需要加关键字new</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">interface</span> <span class="nc">IMyInterface</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">void</span> <span class="n">DoSomething</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="k">void</span> <span class="n">DoSomethingElse</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span><span class="n">IMyInterface</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">void</span> <span class="n">DoSomething</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">void</span> <span class="n">DoSomethingElse</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span><span class="c1">//接口类必须包含接口的所有成员包括匹配的指定签名包括get和set</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">interface</span> <span class="nc">IMyInterface</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">void</span> <span class="n">DoSomething</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">	<span class="k">void</span> <span class="n">DoSomethingElse</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="k">class</span> <span class="nc">MyBaseClass</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="k">void</span> <span class="n">DoSomething</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="k">class</span> <span class="nc">MyDerivedClass</span><span class="p">:</span><span class="n">MyBaseClass</span><span class="p">,</span><span class="n">IMyInterface</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="k">void</span> <span class="n">DoSomethingElse</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">interface</span> <span class="nc">IMyInterface</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">void</span> <span class="n">DoSomething</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">	<span class="k">void</span> <span class="n">DoSomethingElse</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="k">class</span> <span class="nc">MyBaseClass</span><span class="p">:</span><span class="n">IMyInterface</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="k">virtual</span> <span class="k">void</span> <span class="n">DoSomething</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="k">virtual</span> <span class="k">void</span> <span class="n">DoSomethingElse</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="k">class</span> <span class="nc">MyDerivedClass</span><span class="p">:</span><span class="n">MyBaseClass</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="kd">override</span> <span class="k">void</span> <span class="n">DoSomethingElse</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="kd">override</span> <span class="k">void</span> <span class="n">DoSomethingElse</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><pre><code>+ 实现接口
</code></pre>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="n">MyClass</span> <span class="n">myObj</span><span class="p">=</span><span class="k">new</span> <span class="n">MyClass</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="n">IMyInterface</span> <span class="n">myInt</span><span class="p">=</span><span class="n">myObj</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">myInt</span><span class="p">.</span><span class="n">DoSomething</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">MyClass</span> <span class="p">:</span><span class="n">IMyInterface</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">void</span> <span class="n">IMyInterface</span><span class="p">.</span><span class="n">DoSomething</span><span class="p">()</span><span class="c1">//显示调用</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">void</span> <span class="n">DoSomething</span><span class="p">()</span><span class="c1">//隐式调用</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">interface</span> <span class="nc">IMyInterface</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">MyIntProperty</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">get</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">MyBaseClass</span><span class="p">:</span><span class="n">IMyInterface</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">int</span> <span class="n">MyIntProperty</span><span class="p">{</span><span class="k">get</span><span class="p">;</span><span class="kd">protected</span> <span class="k">set</span><span class="p">;}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><pre><code>+ 把接口放在不同的文件中partial
</code></pre>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="c1">//定义类时使用</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">partial</span> <span class="k">class</span> <span class="nc">MyClass</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//部分方法定义</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">partial</span> <span class="k">class</span> <span class="nc">MyClass</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="kd">partial</span> <span class="k">void</span> <span class="n">DoSomethingElse</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">void</span> <span class="n">DoSomething</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="n">console</span><span class="p">.</span><span class="n">writeline</span><span class="p">(</span><span class="s">&#34;do something started&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">DoSomethingElse</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="n">console</span><span class="p">.</span><span class="n">writeline</span><span class="p">(</span><span class="s">&#34;do something ended&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">partial</span> <span class="k">class</span> <span class="nc">MyClass</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="kd">partial</span> <span class="k">void</span> <span class="n">DoSomethingElse</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="n">console</span><span class="p">.</span><span class="n">writeline</span><span class="p">(</span><span class="s">&#34;DoSomethingElse called&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//如果删除部分方法的实现部分，编译时编译器会以为调用了一个空的部分方法会直接删除部分方法的调用</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>集合
<ul>
<li>可以使用集合来维护对象组
<ul>
<li>集合大多是通过System.Collections名称空间中的接口而获得的，集合的语法已经标准化了</li>
<li>System.Collections包括几个接口：</li>
<li>IEnumerable可以迭代集合中的项foreach</li>
<li>ICollection继承上一个接口，可以获取集合中项的个数，并能把项复制到一个简单的数组类型中count()copyto(),add(),remove(),clear()</li>
<li>IList继承上两个接口，提供了集合的项列表，允许访问这些项，并提供一些基本功能insert(),removeat(),派生于<code>Icollection&lt;T&gt;</code>接口</li>
<li>ISet获取两个集合的交集</li>
<li>IDictionary继承与前两个接口，可以通过键值访问项列表</li>
<li>ILookup接口，键和值</li>
<li>Icomparer实现compare（）</li>
<li>IEqualityCompare(）接口。</li>
<li>System.Array类实现了IList,ICollection,IEnumerable接口</li>
<li>System.Collections名称空间中的类System.Collections,ArrayList也实现了这些接口并且更为复杂</li>
</ul>
</li>
<li>定义集合通过Collections
<ul>
<li>直接定义比较复杂可以派生System.Collection.CollectionBase，同时该类提供了两个受保护的属性，List和InnerList</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Cards</span><span class="p">:</span><span class="n">CillectionBase</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><pre><code>	+ 索引符是一种特殊类型的属性
</code></pre>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kd">public</span> <span class="n">Animal</span> <span class="k">this</span><span class="p">[</span><span class="kt">int</span> <span class="n">animalIndex</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">get</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">return</span> <span class="p">(</span><span class="n">Animal</span><span class="p">)</span><span class="n">List</span><span class="p">[</span><span class="n">animalIndex</span><span class="p">];</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">set</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">[</span><span class="n">animalIndex</span><span class="p">]=</span><span class="k">value</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><pre><code>	+ 基类为DictionaryBase,提供了一个Dictionary属性
</code></pre>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">void</span> <span class="n">Add</span><span class="p">(</span><span class="kt">string</span> <span class="n">newID</span><span class="p">,</span><span class="n">Animal</span> <span class="n">newAnimal</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="n">Directionary</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">newID</span><span class="p">,</span><span class="n">newAnimal</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">void</span> <span class="n">Remove</span><span class="p">(</span><span class="kt">string</span> <span class="n">animalID</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="n">Directionary</span><span class="p">.</span><span class="n">Remove</span><span class="p">(</span><span class="n">animalID</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//索引符是一种特殊类型的属性</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="n">Animal</span> <span class="k">this</span><span class="p">[</span><span class="kt">string</span> <span class="n">animalID</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">get</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">return</span> <span class="p">(</span><span class="n">Animal</span><span class="p">)</span><span class="n">Directionary</span><span class="p">[</span><span class="n">animalID</span><span class="p">];</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">set</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="n">Directionary</span><span class="p">[</span><span class="n">animalID</span><span class="p">]=</span><span class="k">value</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><pre><code>+ 迭代器
	+ 在foreach循环中，迭代一个collectionObject集合
	+ foreach
		+ 调用collectionObject.GetEnumerator(),返回一个IEnumerator引用
		+ 调用所返回的IEnumerator接口的MoveNext()方法
		+ 如果MoveNext()返回true.就使用IEnumerator接口的Current属性获取对象的引用，用于foreach循环
		+ 重复前两步，知道返回false
	+ 迭代器
		+ 两种可能返回类型是前面提到的接口类型IEnumerable和IEnumerator
		+ 如果要迭代一个类，可使用方法GetEnumerator()其返回类型IEnumerator;如果要迭代一个类成员，例如一个方法，则使用Enumerable，
		+ `yield return&lt;value&gt;;`
+ 深度复制
	+ 实现ICloneable接口，该接口有一个Clone()方法，
</code></pre>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Content</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">int</span> <span class="n">val</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Cloner</span> <span class="p">:</span><span class="n">IConeable</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="n">Content</span> <span class="n">MyContent</span><span class="p">=</span><span class="k">new</span> <span class="n">Content</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="n">Cloner</span><span class="p">(</span><span class="kt">int</span> <span class="n">newVal</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="n">MyContent</span> <span class="p">.</span><span class="n">val</span><span class="p">=</span><span class="n">newVal</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">object</span> <span class="n">Clone</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="n">Cloner</span> <span class="n">clonedCloner</span> <span class="p">=</span><span class="k">new</span> <span class="n">Cloner</span> <span class="p">(</span><span class="n">MyContent</span><span class="p">.</span><span class="n">Val</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">return</span> <span class="n">cloneCloner</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>比较，比较对象
<ul>
<li>if(myObj.GetType()==typeof(MyComplexClass))</li>
<li>封箱和拆箱
<ul>
<li>封箱就是把值类型转换为System.Object类型，</li>
<li>拆箱就是把System.Object类型转换为值类型</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">struct</span> <span class="nc">MyStruct</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">int</span> <span class="n">Val</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">MyStruct</span> <span class="n">valType</span><span class="p">=</span><span class="k">new</span> <span class="n">MyStruct</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="n">valType</span><span class="p">.</span><span class="n">Val</span><span class="p">=</span><span class="m">5</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">object</span><span class="p">.</span><span class="n">refType</span><span class="p">=</span><span class="n">valType</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1">//这样称为封箱，这种封装只是封装的原值的副本</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">MyStruct</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">int</span> <span class="n">Val</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">MyStruct</span> <span class="n">valType</span><span class="p">=</span><span class="k">new</span> <span class="n">MyStruct</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="n">valType</span><span class="p">.</span><span class="n">Val</span><span class="p">=</span><span class="m">5</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">object</span><span class="p">.</span><span class="n">refType</span><span class="p">=</span><span class="n">valType</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1">//这样称为封箱，这种封装封装原值</span>
</span></span><span class="line"><span class="cl"><span class="k">interface</span> <span class="nc">IMyInterface</span>
</span></span><span class="line"><span class="cl"><span class="p">{}</span>
</span></span><span class="line"><span class="cl"><span class="k">struct</span> <span class="nc">MyStruct</span><span class="p">:</span><span class="n">IMyIterface</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">int</span> <span class="n">Val</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">MyStruct</span> <span class="n">valType</span><span class="p">=</span><span class="k">new</span> <span class="n">MyStruct</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="n">valType</span><span class="p">.</span><span class="n">Val</span><span class="p">=</span><span class="m">5</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">IMyInterface</span> <span class="n">refType</span><span class="p">=</span><span class="n">valType</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">MyStruct</span> <span class="n">ValType2</span><span class="p">=(</span><span class="n">MyStruct</span><span class="p">)</span><span class="n">refType</span><span class="p">;</span><span class="c1">//解箱</span></span></span></code></pre></td></tr></table>
</div>
</div><pre><code>	+ 封箱允许在项的类型是object的集合中使用值类型，在一个内部机制允许在值类型上调用object方法
	+ is运算符不是用来说明对象是某种类型，而是用来检查对象是不是给定类型，或者是否可以转换成给定类型
		+ `&lt;operand&gt;is &lt;type&gt;`
		+ 如果type是一个类类型，operand也该是该类类型
		+ 如果type是一个接口类型，operand也该是该类型
		+ 如果type是一个值类型，那么operand也是该类型
+ 值比较
	+ 运算符重载
</code></pre>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">static</span> <span class="n">AddClass1</span> <span class="kd">operator</span> <span class="p">+(</span><span class="n">AddClass1</span> <span class="n">op1</span><span class="p">,</span><span class="n">AddClass1</span> <span class="n">op2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="n">AddClass1</span> <span class="n">returnValue</span><span class="p">=</span><span class="k">new</span> <span class="n">AddClass1</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="n">returnVal</span><span class="p">.</span><span class="n">val</span><span class="p">=</span><span class="n">op1</span><span class="p">.</span><span class="n">val</span><span class="p">+</span><span class="n">op2</span><span class="p">.</span><span class="n">val</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">return</span> <span class="n">returnVal</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><pre><code>		+ 可以重载的运算符+，-，！，~，++，--，true，false
		+ +,-,*,%,/,&amp;,|,^,&lt;&lt;,&gt;&gt;
		+ ==,!=,&lt;,&gt;,&lt;=,&gt;=
	+ 使用IComparable和IConparer
		+ IComparable比较对象中类的实现，可以比较一个对象和另一个对象
		+ IComparer在一个单独的类中实现，可以比较任意两对象
		+ IComparable中有一个CompareTo()方法，这个方法接受一个对象`if(person1.CompareTo(person2)==0)`
		+ IComparer提供了一个Compare(),这个方法接受两个对象，该方法接受两个对象`personCompare(person1,person2);`
</code></pre>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kt">string</span> <span class="n">firststring</span><span class="p">=</span><span class="s">&#34;first string&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">string</span> <span class="n">secondstring</span> <span class="p">=</span> <span class="s">&#34;second string&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">writeline</span><span class="p">(</span><span class="s">&#34;{0}{1}{2}&#34;</span><span class="p">,</span><span class="n">firststring</span><span class="p">,</span><span class="n">secondstring</span><span class="p">,</span><span class="n">Comparer</span><span class="p">.</span><span class="n">Default</span><span class="p">.</span><span class="n">Compare</span><span class="p">(</span><span class="n">firststring</span> <span class="p">,</span><span class="n">secondstring</span><span class="p">));</span></span></span></code></pre></td></tr></table>
</div>
</div><pre><code>		+ Comparer.Default静态成员获取Comparer类的实例，然后使用Compare比较
		+ 注意事项：在使用conparer时，必须是可以比较的类型，如果试图比较string和int类型就会发生异常，检查传送给Comparer.Compare()的对象，看他们是否支持IComparable，支持实现该代码,允许使用NULL值，它表示小于其他任意对象
		+ 这两种方法需要比较某种类型，不然会抛出异常
+ 对集合排序
	+ System.Collections名称空间中的类都没有提供排序方法，Arraylist类提供了sort()排序算法，对于自己的类使用IComparer进行比较排序
</code></pre>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">PersonComparerName</span> <span class="p">:</span> <span class="n">IComparer</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="kd">static</span> <span class="n">IComparer</span> <span class="n">Default</span> <span class="p">=</span> <span class="k">new</span> <span class="n">PersonComparerName</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="kt">int</span> <span class="n">Compare</span><span class="p">(</span><span class="kt">object</span> <span class="n">x</span><span class="p">,</span> <span class="kt">object</span> <span class="n">y</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="k">is</span> <span class="n">Person</span> <span class="p">&amp;&amp;</span> <span class="n">y</span> <span class="k">is</span> <span class="n">Person</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">     <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">Comparer</span><span class="p">.</span><span class="n">Default</span><span class="p">.</span><span class="n">Compare</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">           <span class="p">((</span><span class="n">Person</span><span class="p">)</span><span class="n">x</span><span class="p">).</span><span class="n">Name</span><span class="p">,</span> <span class="p">((</span><span class="n">Person</span><span class="p">)</span><span class="n">y</span><span class="p">).</span><span class="n">Name</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">     <span class="p">}</span>
</span></span><span class="line"><span class="cl">     <span class="k">else</span>
</span></span><span class="line"><span class="cl">     <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">throw</span> <span class="k">new</span> <span class="n">ArgumentException</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">           <span class="s">&#34;One or both objects to compare are not Person objects.&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">     <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>   
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Program</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">static</span> <span class="k">void</span> <span class="n">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="n">ArrayList</span> <span class="n">list</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">     <span class="n">list</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">Person</span><span class="p">(</span><span class="s">&#34;Jim&#34;</span><span class="p">,</span> <span class="m">30</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">     <span class="n">list</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">Person</span><span class="p">(</span><span class="s">&#34;Bob&#34;</span><span class="p">,</span> <span class="m">25</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">     <span class="n">list</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">Person</span><span class="p">(</span><span class="s">&#34;Bert&#34;</span><span class="p">,</span> <span class="m">27</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">     <span class="n">list</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">Person</span><span class="p">(</span><span class="s">&#34;Ernie&#34;</span><span class="p">,</span> <span class="m">22</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">     <span class="n">list</span><span class="p">.</span><span class="n">Sort</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">     <span class="n">list</span><span class="p">.</span><span class="n">Sort</span><span class="p">(</span><span class="n">PersonComparerName</span><span class="p">.</span><span class="n">Default</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>转换：定义类型转换
<ul>
<li>如果既没有继承，又没有公有接口的类如果转换</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="n">ConClass1</span> <span class="n">op1</span><span class="p">=</span><span class="k">new</span> <span class="n">ConClass1</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="n">ConClass2</span> <span class="n">op2</span><span class="p">=</span><span class="n">op1</span><span class="p">;</span><span class="c1">//隐式转换</span>
</span></span><span class="line"><span class="cl"><span class="n">ConClass1</span> <span class="n">op1</span><span class="p">=</span><span class="k">new</span> <span class="n">ConClass1</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="n">ConClass2</span> <span class="n">op2</span><span class="p">=(</span><span class="n">ConClass2</span> <span class="p">)</span><span class="n">op1</span><span class="p">;</span><span class="c1">//显示转换</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">ConvClass1</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">int</span> <span class="n">val</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">static</span> <span class="kd">implicit</span> <span class="kd">operator</span> <span class="n">ConvClass2</span><span class="p">(</span><span class="n">ConvClass1</span> <span class="n">op1</span><span class="p">)</span><span class="c1">//允许隐式转换</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="n">ConvClass2</span> <span class="n">returnVal</span><span class="p">=</span><span class="k">new</span> <span class="n">ConvClass2</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="n">returnVal</span><span class="p">.</span><span class="n">val</span><span class="p">=</span><span class="n">op1</span><span class="p">.</span><span class="n">val</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">return</span> <span class="n">returnVal</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">ConvClass2</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">double</span> <span class="n">val</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">static</span> <span class="kd">explicit</span> <span class="kd">operator</span> <span class="n">ConvClass1</span><span class="p">(</span><span class="n">ConvClass2</span> <span class="n">op1</span><span class="p">)</span><span class="c1">//只能显式转换</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="n">ConvClass1</span> <span class="n">returnVal</span><span class="p">=</span><span class="k">new</span> <span class="n">ConvClass1</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="k">checked</span><span class="p">(</span><span class="n">returnVal</span><span class="p">.</span><span class="n">val</span><span class="p">=(</span><span class="kt">int</span><span class="p">)</span><span class="n">op1</span><span class="p">.</span><span class="n">val</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">return</span> <span class="n">returnVal</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><pre><code>+ as运算符`&lt;operand&gt;as&lt;type&gt;`,operand类型是type类型,operand可隐式转换为type类型,operand可以封箱到type类型,如果operand不能转化为type则表达式结果为null
</code></pre>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">ClassA</span><span class="p">:</span><span class="n">IMyInterface</span>
</span></span><span class="line"><span class="cl"><span class="p">{}</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">ClassB</span><span class="p">:</span><span class="n">ClassA</span>
</span></span><span class="line"><span class="cl"><span class="p">{}</span>
</span></span><span class="line"><span class="cl"><span class="n">ClassA</span> <span class="n">ob1</span><span class="p">=</span><span class="k">new</span> <span class="n">ClassA</span> <span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="n">ClassD</span> <span class="n">ob2</span><span class="p">=</span><span class="n">ob1</span><span class="p">;</span><span class="c1">//抛出异常</span>
</span></span><span class="line"><span class="cl"><span class="n">ClassD</span> <span class="n">ob2</span><span class="p">=</span><span class="n">ob1</span> <span class="k">as</span> <span class="n">ClassB</span><span class="p">;</span><span class="c1">//不会抛出异常但是ob2的值为null;</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="泛型" class="heading-element"><span>泛型</span>
  <a href="#%e6%b3%9b%e5%9e%8b" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>泛型是以实例化的过程中提供的类型或类为基础建立的，可以毫不费力的对对象进行强类型化,使用泛型强化为各种类型。与C++不同，C++是在编译期间来强类型化，而C#是在运行期间强类型化</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="n">CollectionClass</span><span class="p">&lt;</span><span class="n">ItemClass</span><span class="p">&gt;</span> <span class="n">items</span><span class="p">=</span> <span class="k">new</span> <span class="n">CollectionClass</span><span class="p">&lt;</span><span class="n">ItemClass</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl"><span class="n">items</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">ItemClass</span><span class="p">);</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>.net 提供的泛型，包括System.Collections.Generic名称空间</li>
<li>可空类型，引用类型可以为空，值类型必须有一个值，扩展值类型让其可为空，泛型使用了System.Nullable<T>类型提供了值类型为空的一种方法
<ul>
<li><code>System.Nullable&lt;int&gt; nullableInt;</code>变量nullableInt可以包含int类型的任意值，还可以拥有null</li>
<li><code>nullableInt=null;等价于nullableInt=new System.Nullable&lt;int&gt;();</code></li>
<li>nullableInt.HasValue,该方法不适用于引用类型，引用类型本身可能为NULL</li>
<li><code>int？ nullableInt；int？是System.Nullable&lt;int&gt; 的缩写</code></li>
<li>可控类型null+任何数都为null,null在布尔运算中的大小介于FALSE和TRUE之间</li>
</ul>
</li>
<li>？？运算符为空结合运算符，是一个二元运算符，允许给可能等于NULL的表达式提供另一个值，op1??op2等价于op1==null?op2:op1;</li>
<li><code>List&lt;T&gt; myCollection=new List&lt;T&gt;();</code>
<ul>
<li>Item	获取或设置指定索引处的元素。</li>
<li>Count	获取 List<T> 中实际包含的元素数。</li>
<li>Add	将对象添加到 List<T> 的结尾处。</li>
<li>AddRange	将指定集合的元素添加到 List<T> 的末尾。</li>
<li>Clear	从 List<T> 中移除所有元素。</li>
<li>Contains	确定某元素是否在 List<T> 中。</li>
<li>ConvertAll<TOutput>	将当前 List<T> 中的元素转换为另一种类型，并返回包含转换后的元素的列表。</li>
<li>Equals(Object)	确定指定的 Object 是否等于当前的 Object。 （继承自 Object。）</li>
<li>Remove	从 List<T> 中移除特定对象的第一个匹配项。</li>
<li>Sort()	使用默认比较器对整个 List<T> 中的元素进行排序。</li>
<li>ToArray	将 List<T> 的元素复制到新数组中。</li>
<li>ToString	返回表示当前对象的字符串。 （继承自 Object。）</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="n">Animal</span><span class="p">&gt;</span> <span class="n">animalCollection</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Animal</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl"><span class="n">animalCollection</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">Cow</span><span class="p">(</span><span class="s">&#34;Jack&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="n">animalCollection</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">Chicken</span><span class="p">(</span><span class="s">&#34;Vera&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="n">Animal</span> <span class="n">myAnimal</span> <span class="k">in</span> <span class="n">animalCollection</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="n">myAnimal</span><span class="p">.</span><span class="n">Feed</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="err">或者</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Animals</span><span class="p">:</span><span class="n">List</span><span class="p">&lt;</span><span class="n">Animal</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{}</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>对泛型进行排序
<ul>
<li>System.Collections.Generic名称空间包含<code>List&lt;T&gt;</code>T类型对象集合,<code>Dictionary&lt;K,V&gt;</code>与K类型的键值相关的V类型的项的集合</li>
<li><code>List&lt;T&gt;</code>
<ul>
<li>使用泛型接口<code>IComparer&lt;T&gt;和IComparable&lt;T&gt;</code>
<ul>
<li><code>int IComparable&lt;T&gt;.CompareTo(T otherObj)</code></li>
<li><code>bool IComparable&lt;T&gt;.Equals(T otherObj)</code></li>
<li><code>int IComparer&lt;T&gt;.Compare(T objectA,T objectB)</code></li>
<li><code>bool ICompare&lt;T&gt;.Equals(T objectA,T objectB)</code></li>
<li><code>int IComparer&lt;T&gt;.GetHashCode(T objectA)</code></li>
</ul>
</li>
<li>给列表排序，需要有一个方法来比较两个T类型的对象，要在列表中搜索，需要用一个方法来检查T类型的对象</li>
<li>两个泛型委托：</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="n">Comparison</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">method</span><span class="p">(</span><span class="n">T</span> <span class="n">objectA</span><span class="p">,</span><span class="n">TobjectB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">Predicate</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="kt">bool</span> <span class="n">method</span><span class="p">(</span><span class="n">T</span> <span class="n">targetObject</span><span class="p">)</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Vectors</span> <span class="p">:</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Vector</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="n">Vectors</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="n">Vectors</span><span class="p">(</span><span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">Vector</span><span class="p">&gt;</span> <span class="n">initialItems</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="k">foreach</span> <span class="p">(</span><span class="n">Vector</span> <span class="n">vector</span> <span class="k">in</span> <span class="n">initialItems</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">     <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Add</span><span class="p">(</span><span class="n">vector</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">     <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="kt">string</span> <span class="n">Sum</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="n">StringBuilder</span> <span class="n">sb</span> <span class="p">=</span> <span class="k">new</span> <span class="n">StringBuilder</span><span class="p">();</span><span class="c1">//表示可变字符字符串</span>
</span></span><span class="line"><span class="cl">     <span class="n">Vector</span> <span class="n">currentPoint</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Vector</span><span class="p">(</span><span class="m">0.0</span><span class="p">,</span> <span class="m">0.0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">     <span class="n">sb</span><span class="p">.</span><span class="n">Append</span><span class="p">(</span><span class="s">&#34;origin&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">     <span class="k">foreach</span> <span class="p">(</span><span class="n">Vector</span> <span class="n">vector</span> <span class="k">in</span> <span class="k">this</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">     <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">sb</span><span class="p">.</span><span class="n">AppendFormat</span><span class="p">(</span><span class="s">&#34; + {0}&#34;</span><span class="p">,</span> <span class="n">vector</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">currentPoint</span> <span class="p">+=</span> <span class="n">vector</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">     <span class="p">}</span>
</span></span><span class="line"><span class="cl">     <span class="n">sb</span><span class="p">.</span><span class="n">AppendFormat</span><span class="p">(</span><span class="s">&#34; = {0}&#34;</span><span class="p">,</span> <span class="n">currentPoint</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">     <span class="k">return</span> <span class="n">sb</span><span class="p">.</span><span class="n">ToString</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">static</span> <span class="k">class</span> <span class="nc">VectorDelegates</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">Compare</span><span class="p">(</span><span class="n">Vector</span> <span class="n">x</span><span class="p">,</span> <span class="n">Vector</span> <span class="n">y</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="n">R</span> <span class="p">&gt;</span> <span class="n">y</span><span class="p">.</span><span class="n">R</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">     <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="m">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">     <span class="p">}</span>
</span></span><span class="line"><span class="cl">     <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="n">R</span> <span class="p">&lt;</span> <span class="n">y</span><span class="p">.</span><span class="n">R</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">     <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="p">-</span><span class="m">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">     <span class="p">}</span>
</span></span><span class="line"><span class="cl">     <span class="k">return</span> <span class="m">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">bool</span> <span class="n">TopRightQuadrant</span><span class="p">(</span><span class="n">Vector</span> <span class="n">target</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="k">if</span> <span class="p">(</span><span class="n">target</span><span class="p">.</span><span class="n">Theta</span> <span class="p">&gt;=</span> <span class="m">0.0</span> <span class="p">&amp;&amp;</span> <span class="n">target</span><span class="p">.</span><span class="n">Theta</span> <span class="p">&lt;=</span> <span class="m">90.0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">     <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">     <span class="p">}</span>
</span></span><span class="line"><span class="cl">     <span class="k">else</span>
</span></span><span class="line"><span class="cl">     <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">     <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Program</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">static</span> <span class="k">void</span> <span class="n">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="n">Vectors</span> <span class="n">route</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Vectors</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">     <span class="n">route</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">Vector</span><span class="p">(</span><span class="m">2.0</span><span class="p">,</span> <span class="m">90.0</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">     <span class="n">route</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">Vector</span><span class="p">(</span><span class="m">1.0</span><span class="p">,</span> <span class="m">180.0</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">     <span class="n">route</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">Vector</span><span class="p">(</span><span class="m">0.5</span><span class="p">,</span> <span class="m">45.0</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">     <span class="n">route</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">Vector</span><span class="p">(</span><span class="m">2.5</span><span class="p">,</span> <span class="m">315.0</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">     <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">route</span><span class="p">.</span><span class="n">Sum</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">     <span class="n">Comparison</span><span class="p">&lt;</span><span class="n">Vector</span><span class="p">&gt;</span> <span class="n">sorter</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Comparison</span><span class="p">&lt;</span><span class="n">Vector</span><span class="p">&gt;(</span><span class="n">VectorDelegates</span><span class="p">.</span><span class="n">Compare</span><span class="p">);</span><span class="c1">//委托</span>
</span></span><span class="line"><span class="cl">     <span class="n">route</span><span class="p">.</span><span class="n">Sort</span><span class="p">(</span><span class="n">sorter</span><span class="p">);</span><span class="c1">//这个个语句可以简化route.Sort(VectorDelegates.Compare);</span>
</span></span><span class="line"><span class="cl">     <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">route</span><span class="p">.</span><span class="n">Sum</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">     <span class="n">Predicate</span><span class="p">&lt;</span><span class="n">Vector</span><span class="p">&gt;</span> <span class="n">searcher</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Predicate</span><span class="p">&lt;</span><span class="n">Vector</span><span class="p">&gt;(</span><span class="n">VectorDelegates</span><span class="p">.</span><span class="n">TopRightQuadrant</span><span class="p">);</span><span class="c1">//委托</span>
</span></span><span class="line"><span class="cl">     <span class="n">Vectors</span> <span class="n">topRightQuadrantRoute</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Vectors</span><span class="p">(</span><span class="n">route</span><span class="p">.</span><span class="n">FindAll</span><span class="p">(</span><span class="n">searcher</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">     <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">topRightQuadrantRoute</span><span class="p">.</span><span class="n">Sum</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">     <span class="n">Console</span><span class="p">.</span><span class="n">ReadKey</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><pre><code>+ `Dictionary&lt;K,V&gt;`该类型建立键/值对应这个类需要实例化两个类型，分别用于键和值
</code></pre>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span> <span class="p">,</span><span class="kt">int</span><span class="p">&gt;</span><span class="n">things</span><span class="p">=</span><span class="k">new</span> <span class="n">Directionary</span><span class="p">&lt;</span><span class="kt">string</span> <span class="p">,</span><span class="kt">int</span> <span class="p">&gt;()</span>
</span></span><span class="line"><span class="cl"><span class="n">things</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&#34;Green Things&#34;</span><span class="p">,</span><span class="m">29</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span><span class="p">(</span><span class="n">strign</span> <span class="n">key</span> <span class="k">in</span> <span class="n">things</span><span class="p">.</span><span class="n">Values</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">key</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span><span class="p">(</span><span class="kt">int</span> <span class="k">value</span> <span class="k">in</span> <span class="n">things</span><span class="p">.</span><span class="n">Values</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="n">usign</span> <span class="k">value</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span><span class="p">(</span><span class="n">KeyValuePair</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span><span class="kt">int</span> <span class="p">&gt;</span> <span class="n">thing</span> <span class="k">in</span> <span class="n">things</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">things.key</span> <span class="n">and</span> <span class="n">things</span><span class="p">.</span><span class="k">value</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><pre><code>	+ 每个键都独立的，如果相同抛出异常`Dictionary&lt;string ,int&gt;things=new Directionary&lt;string ,int &gt;(stringComparer.CurrentCultureIgnoreCase)`自己的类用作键，不区分发小写比较，这样同一个类就会出现异常
</code></pre>
<ul>
<li>定义泛型
<ul>
<li>要创建泛型类</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">MyGenericClass</span><span class="p">&lt;</span><span class="n">T1</span><span class="p">,</span><span class="n">T2</span><span class="p">,</span><span class="n">T3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><pre><code>+ 定义泛型后就可以像使用其他数据类型一样使用它们
+ default关键字,default(T1),如果T1是值类型使之默认为0，如果为引用就默认为null
+ 约束
</code></pre>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">MyGenericClass</span><span class="p">&lt;</span><span class="n">T1</span><span class="p">,</span><span class="n">T2</span><span class="p">,</span><span class="n">T3</span><span class="p">&gt;</span> <span class="k">where</span> <span class="n">T</span><span class="p">:</span><span class="n">constraint1</span><span class="p">,</span><span class="n">constraint2</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//约束必须在继承后面</span></span></span></code></pre></td></tr></table>
</div>
</div><pre><code>	+ struct类型必须为值类型
	+ class类型必须为引用类型
	+ baseclass类型必须为基类或继承基类
	+ interface类型必须有接口或实现了接口
	+ new()类型必须有一个公共的无参构造函数
</code></pre>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span><span class="lnt">173
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">abstract</span> <span class="k">class</span> <span class="nc">Animal</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">protected</span> <span class="kt">string</span> <span class="n">name</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="kt">string</span> <span class="n">Name</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	 <span class="k">get</span>
</span></span><span class="line"><span class="cl">	 <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="n">name</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	 <span class="p">}</span>
</span></span><span class="line"><span class="cl">	 <span class="k">set</span>
</span></span><span class="line"><span class="cl">	 <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="n">name</span> <span class="p">=</span> <span class="k">value</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	 <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="n">Animal</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	 <span class="n">name</span> <span class="p">=</span> <span class="s">&#34;The animal with no name&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="n">Animal</span><span class="p">(</span><span class="kt">string</span> <span class="n">newName</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	 <span class="n">name</span> <span class="p">=</span> <span class="n">newName</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="k">void</span> <span class="n">Feed</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;{0} has been fed.&#34;</span><span class="p">,</span> <span class="n">name</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="kd">abstract</span> <span class="k">void</span> <span class="n">MakeANoise</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Chicken</span> <span class="p">:</span> <span class="n">Animal</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="k">void</span> <span class="n">LayEgg</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;{0} has laid an egg.&#34;</span><span class="p">,</span> <span class="n">name</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="n">Chicken</span><span class="p">(</span><span class="kt">string</span> <span class="n">newName</span><span class="p">)</span> <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">newName</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="kd">override</span> <span class="k">void</span> <span class="n">MakeANoise</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;{0} says &#39;cluck!&#39;;&#34;</span><span class="p">,</span> <span class="n">name</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Chicken</span> <span class="p">:</span> <span class="n">Animal</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="k">void</span> <span class="n">LayEgg</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;{0} has laid an egg.&#34;</span><span class="p">,</span> <span class="n">name</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="n">Chicken</span><span class="p">(</span><span class="kt">string</span> <span class="n">newName</span><span class="p">)</span> <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">newName</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="kd">override</span> <span class="k">void</span> <span class="n">MakeANoise</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;{0} says &#39;cluck!&#39;;&#34;</span><span class="p">,</span> <span class="n">name</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Cow</span> <span class="p">:</span> <span class="n">Animal</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="k">void</span> <span class="n">Milk</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;{0} has been milked.&#34;</span><span class="p">,</span> <span class="n">name</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="n">Cow</span><span class="p">(</span><span class="kt">string</span> <span class="n">newName</span><span class="p">)</span> <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">newName</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="kd">override</span> <span class="k">void</span> <span class="n">MakeANoise</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;{0} says &#39;moo!&#39;&#34;</span><span class="p">,</span> <span class="n">name</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">SuperCow</span> <span class="p">:</span> <span class="n">Cow</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="k">void</span> <span class="n">Fly</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;{0} is flying!&#34;</span><span class="p">,</span> <span class="n">name</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="n">SuperCow</span><span class="p">(</span><span class="kt">string</span> <span class="n">newName</span><span class="p">):</span> <span class="k">base</span><span class="p">(</span><span class="n">newName</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="kd">override</span> <span class="k">void</span> <span class="n">MakeANoise</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;{0} says &#39;here I come to save the day!&#39;&#34;</span><span class="p">,</span> <span class="n">name</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Farm</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="p">:</span> <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="k">where</span> <span class="n">T</span> <span class="p">:</span> <span class="n">Animal</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">private</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="n">animals</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="n">Animals</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	 <span class="k">get</span>
</span></span><span class="line"><span class="cl">	 <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="n">animals</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	 <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="n">IEnumerator</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="n">GetEnumerator</span><span class="p">()</span><span class="c1">//实现IEnumerator&lt;T&gt; 接口</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	 <span class="k">return</span> <span class="n">animals</span><span class="p">.</span><span class="n">GetEnumerator</span><span class="p">();</span><span class="c1">//才能实现foreach</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="n">IEnumerator</span> <span class="n">IEnumerable</span><span class="p">.</span><span class="n">GetEnumerator</span><span class="p">()</span><span class="c1">//IEnumerator&lt;T&gt; 接口继承IEnumerable，必须实现IEnumerable接口</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	 <span class="k">return</span> <span class="n">animals</span><span class="p">.</span><span class="n">GetEnumerator</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="k">void</span> <span class="n">MakeNoises</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	 <span class="k">foreach</span> <span class="p">(</span><span class="n">T</span> <span class="n">animal</span> <span class="k">in</span> <span class="n">animals</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	 <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="n">animal</span><span class="p">.</span><span class="n">MakeANoise</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">	 <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="k">void</span> <span class="n">FeedTheAnimals</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	 <span class="k">foreach</span> <span class="p">(</span><span class="n">T</span> <span class="n">animal</span> <span class="k">in</span> <span class="n">animals</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	 <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="n">animal</span><span class="p">.</span><span class="n">Feed</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">	 <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="n">Farm</span><span class="p">&lt;</span><span class="n">Cow</span><span class="p">&gt;</span> <span class="n">GetCows</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Farm</span><span class="p">&lt;</span><span class="n">Cow</span><span class="p">&gt;</span> <span class="n">cowFarm</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Farm</span><span class="p">&lt;</span><span class="n">Cow</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">	 <span class="k">foreach</span> <span class="p">(</span><span class="n">T</span> <span class="n">animal</span> <span class="k">in</span> <span class="n">animals</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	 <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="p">(</span><span class="n">animal</span> <span class="k">is</span> <span class="n">Cow</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">		   <span class="n">cowFarm</span><span class="p">.</span><span class="n">Animals</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">animal</span> <span class="k">as</span> <span class="n">Cow</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	 <span class="p">}</span>
</span></span><span class="line"><span class="cl">	 <span class="k">return</span> <span class="n">cowFarm</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// For generic methods section.</span>
</span></span><span class="line"><span class="cl">  <span class="c1">//public Farm&lt;U&gt; GetSpecies&lt;U&gt;() where U : T</span>
</span></span><span class="line"><span class="cl">  <span class="c1">//{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">//   Farm&lt;U&gt; speciesFarm = new Farm&lt;U&gt;();</span>
</span></span><span class="line"><span class="cl">  <span class="c1">//   foreach (T animal in animals)</span>
</span></span><span class="line"><span class="cl">  <span class="c1">//   {</span>
</span></span><span class="line"><span class="cl">  <span class="c1">//      if (animal is U)</span>
</span></span><span class="line"><span class="cl">  <span class="c1">//      {</span>
</span></span><span class="line"><span class="cl">  <span class="c1">//         speciesFarm.Animals.Add(animal as U);</span>
</span></span><span class="line"><span class="cl">  <span class="c1">//      }</span>
</span></span><span class="line"><span class="cl">  <span class="c1">//   }</span>
</span></span><span class="line"><span class="cl">  <span class="c1">//   return speciesFarm;</span>
</span></span><span class="line"><span class="cl">  <span class="c1">//}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Program</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">static</span> <span class="k">void</span> <span class="n">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Farm</span><span class="p">&lt;</span><span class="n">Animal</span><span class="p">&gt;</span> <span class="n">farm</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Farm</span><span class="p">&lt;</span><span class="n">Animal</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">	 <span class="n">farm</span><span class="p">.</span><span class="n">Animals</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">Cow</span><span class="p">(</span><span class="s">&#34;Jack&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">	 <span class="n">farm</span><span class="p">.</span><span class="n">Animals</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">Chicken</span><span class="p">(</span><span class="s">&#34;Vera&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">	 <span class="n">farm</span><span class="p">.</span><span class="n">Animals</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">Chicken</span><span class="p">(</span><span class="s">&#34;Sally&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">	 <span class="n">farm</span><span class="p">.</span><span class="n">Animals</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">SuperCow</span><span class="p">(</span><span class="s">&#34;Kevin&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">	 <span class="n">farm</span><span class="p">.</span><span class="n">MakeNoises</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Farm</span><span class="p">&lt;</span><span class="n">Cow</span><span class="p">&gt;</span> <span class="n">dairyFarm</span> <span class="p">=</span> <span class="n">farm</span><span class="p">.</span><span class="n">GetCows</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">	 <span class="n">dairyFarm</span><span class="p">.</span><span class="n">FeedTheAnimals</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">	 <span class="k">foreach</span> <span class="p">(</span><span class="n">Cow</span> <span class="n">cow</span> <span class="k">in</span> <span class="n">dairyFarm</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	 <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="p">(</span><span class="n">cow</span> <span class="k">is</span> <span class="n">SuperCow</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">		   <span class="p">(</span><span class="n">cow</span> <span class="k">as</span> <span class="n">SuperCow</span><span class="p">).</span><span class="n">Fly</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	 <span class="p">}</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">ReadKey</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">Jack</span> <span class="n">says</span> <span class="err">&#39;</span><span class="n">moo</span><span class="p">!</span><span class="err">&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">Vera</span> <span class="n">says</span> <span class="err">&#39;</span><span class="n">cluck</span><span class="p">!</span><span class="err">&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">Sally</span> <span class="n">says</span> <span class="err">&#39;</span><span class="n">cluck</span><span class="p">!</span><span class="err">&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">Kevin</span> <span class="n">says</span> <span class="err">&#39;</span><span class="n">here</span> <span class="n">I</span> <span class="n">come</span> <span class="n">to</span> <span class="n">save</span> <span class="n">the</span> <span class="n">day</span><span class="p">!</span><span class="err">&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">Jack</span> <span class="n">has</span> <span class="n">been</span> <span class="n">fed</span><span class="p">.</span>
</span></span><span class="line"><span class="cl"><span class="n">Kevin</span> <span class="n">has</span> <span class="n">been</span> <span class="n">fed</span><span class="p">.</span>
</span></span><span class="line"><span class="cl"><span class="n">Kevin</span> <span class="k">is</span> <span class="n">flying</span><span class="p">!</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>泛型运算符</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">static</span> <span class="kd">implicit</span> <span class="kd">operator</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Animal</span><span class="p">&gt;(</span><span class="n">Farm</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="n">farm</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">List</span><span class="p">&lt;</span><span class="n">Animal</span><span class="p">&gt;</span><span class="n">result</span><span class="p">=</span><span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Animal</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">	<span class="k">foreach</span><span class="p">(</span><span class="n">T</span> <span class="n">animal</span> <span class="k">in</span> <span class="n">farm</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="n">result</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">animal</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="n">result</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> 
</span></span><span class="line"><span class="cl"><span class="n">pulic</span> <span class="kd">static</span> <span class="n">Farm</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="kd">operator</span> <span class="p">+(</span><span class="n">Farm</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="n">farm1</span><span class="p">,</span><span class="n">List</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="n">farm2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">Farm</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="n">result</span><span class="p">=</span> <span class="k">new</span> <span class="n">Farm</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="p">();</span>
</span></span><span class="line"><span class="cl">	<span class="k">foreach</span><span class="p">(</span><span class="n">T</span> <span class="n">animal</span> <span class="k">in</span> <span class="n">farm1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="n">result</span><span class="p">.</span><span class="n">Animals</span><span class="p">.</span><span class="k">add</span><span class="p">(</span><span class="n">animal</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">foreach</span><span class="p">(</span><span class="n">T</span> <span class="n">animal</span> <span class="k">in</span> <span class="n">farm2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span><span class="p">(!</span><span class="n">result</span><span class="p">.</span><span class="n">Animals</span><span class="p">.</span><span class="n">Contains</span><span class="p">(</span><span class="n">animal</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="n">result</span><span class="p">.</span><span class="n">Animals</span><span class="p">.</span><span class="k">add</span><span class="p">(</span><span class="n">animal</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="n">result</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">static</span> <span class="n">Farm</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="kd">operator</span> <span class="p">+(</span><span class="n">List</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="n">farm1</span><span class="p">,</span><span class="n">Farm</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="n">farm2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="n">farm1</span><span class="p">+</span><span class="n">farm2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">Farm</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="n">newFarm</span><span class="p">=</span><span class="n">farm</span> <span class="p">+</span> <span class="n">dairyFarm</span><span class="p">;</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>泛型结构
结构是值类型，不是引用类型
可以用泛型来构造泛型结构</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">struct</span> <span class="nc">Mystructs</span><span class="p">&lt;</span><span class="n">T1</span><span class="p">,</span><span class="n">T2</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="n">T1</span> <span class="n">item1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="n">T2</span> <span class="n">item2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>泛型接口</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">interface</span> <span class="nc">MyFarmingInterface</span> <span class="k">where</span> <span class="n">T</span><span class="p">:</span><span class="n">Animal</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kt">bool</span> <span class="n">AttempToBreed</span><span class="p">(</span><span class="n">T</span> <span class="n">animal1</span><span class="p">,</span><span class="n">T</span> <span class="n">animal2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">T</span> <span class="n">oldestInHerd</span><span class="p">{</span><span class="k">get</span><span class="p">;}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>泛型方法</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kd">public</span> <span class="n">T</span> <span class="n">GetDefault</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="k">default</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;;</span><span class="c1">//使用关键字default，为类型T返回默认值</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">myDefaultInt</span><span class="p">=</span><span class="n">GetDefault</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;();</span><span class="c1">//调用</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Defaulter</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="n">T</span> <span class="n">GetDefault</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;()</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="k">default</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;;</span><span class="c1">//通过非泛型类实现泛型</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Defaulter</span><span class="p">&lt;</span><span class="n">T1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="n">T2</span> <span class="n">GetDefault</span><span class="p">&lt;</span><span class="n">T2</span><span class="p">&gt;()</span><span class="k">where</span> <span class="n">T2</span><span class="p">:</span><span class="n">T1</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="k">default</span><span class="p">&lt;</span><span class="n">T2</span><span class="p">&gt;;</span><span class="c1">//通过泛型类与泛型方法不同的标识</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="n">farm</span><span class="p">&lt;</span><span class="n">u</span><span class="p">&gt;</span> <span class="n">getspecies</span><span class="p">&lt;</span><span class="n">u</span><span class="p">&gt;()</span> <span class="k">where</span> <span class="n">u</span> <span class="p">:</span> <span class="n">t</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">farm</span><span class="p">&lt;</span><span class="n">u</span><span class="p">&gt;</span> <span class="n">speciesfarm</span> <span class="p">=</span> <span class="k">new</span> <span class="n">farm</span><span class="p">&lt;</span><span class="n">u</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">	<span class="k">foreach</span> <span class="p">(</span><span class="n">t</span> <span class="n">animal</span> <span class="k">in</span> <span class="n">animals</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">	   <span class="k">if</span> <span class="p">(</span><span class="n">animal</span> <span class="k">is</span> <span class="n">u</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	   <span class="p">{</span>
</span></span><span class="line"><span class="cl">		  <span class="n">speciesfarm</span><span class="p">.</span><span class="n">animals</span><span class="p">.</span><span class="k">add</span><span class="p">(</span><span class="n">animal</span> <span class="k">as</span> <span class="n">u</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	   <span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="n">speciesfarm</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>泛型委托</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">delegate</span> <span class="n">T1</span> <span class="n">MyDelegate</span><span class="p">&lt;</span><span class="n">T1</span><span class="p">,</span><span class="n">T2</span><span class="p">&gt;(</span><span class="n">T2</span> <span class="n">op1</span><span class="p">,</span><span class="n">T2</span> <span class="n">op2</span><span class="p">)</span> <span class="k">where</span> <span class="n">T2</span><span class="p">:</span><span class="n">T1</span><span class="p">;</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>变体：是抗变和协变的统称
需要定义编译过程</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="n">Cow</span> <span class="n">myCow</span><span class="p">=</span><span class="k">new</span> <span class="n">Cow</span><span class="p">(</span><span class="s">&#34;gemeroter&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Animal</span> <span class="n">myAnimal</span><span class="p">=</span><span class="n">myCow</span><span class="p">;</span><span class="c1">//在类中这样是可行的</span>
</span></span><span class="line"><span class="cl"><span class="n">IMethaneProduce</span><span class="p">&lt;</span><span class="n">Cow</span><span class="p">&gt;</span> <span class="n">cowMethaneProduce</span><span class="p">=</span><span class="n">myCow</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">IMethaneProduce</span><span class="p">&lt;</span><span class="n">Animal</span><span class="p">&gt;</span> <span class="n">animalMethaneProduce</span><span class="p">=</span><span class="n">cowMethaneProduce</span><span class="p">;</span><span class="c1">//在接口中这样是不可以的</span>
</span></span><span class="line"><span class="cl"><span class="c1">//在泛型中所有类型都是不变的，但是可以在泛型接口和泛型委托的基础上定义变体类型参数</span>
</span></span><span class="line"><span class="cl"><span class="c1">//IMethaneProduce&lt;T&gt;接口类型参数必须是协变的，</span>
</span></span><span class="line"><span class="cl"><span class="c1">//抗变与协变类似但是方向相反，抗变可以把接口放在派生类型中</span>
</span></span><span class="line"><span class="cl"><span class="n">IGrassMuncher</span><span class="p">&lt;</span><span class="n">Cow</span><span class="p">&gt;</span> <span class="n">cowGrassMuncher</span><span class="p">=</span><span class="n">myCow</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">IGrassMuncher</span><span class="p">&lt;</span><span class="n">SuperCow</span><span class="p">&gt;</span> <span class="n">supercowGrassMuncher</span><span class="p">=</span><span class="n">cowGrassMuncher</span><span class="p">;</span></span></span></code></pre></td></tr></table>
</div>
</div><pre><code>+ 协便
</code></pre>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="c1">//协变需要使用关键字out</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">interface</span> <span class="nc">IMethaneProduce</span><span class="p">&lt;</span><span class="k">out</span> <span class="n">T</span><span class="p">&gt;</span><span class="c1">//这样IEnumerable&lt;Cow&gt;对象可以放在IEnumerable&lt;Animal&gt;类型的变量中</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="p">...</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">static</span> <span class="k">void</span> <span class="n">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">List</span><span class="p">&lt;</span><span class="n">Cow</span><span class="p">&gt;</span> <span class="n">cows</span><span class="p">=</span><span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Cow</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">	<span class="n">cows</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">Cow</span><span class="p">(</span><span class="s">&#34;dfdf&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">	<span class="n">cows</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">SuperCow</span><span class="p">(</span><span class="s">&#34;ddddd&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">	<span class="n">ListAnimals</span><span class="p">(</span><span class="n">cows</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">static</span> <span class="k">void</span> <span class="n">ListAnimals</span><span class="p">(</span><span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">Animal</span><span class="p">&gt;</span> <span class="n">animals</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">foreach</span><span class="p">(</span><span class="n">Animal</span> <span class="n">animal</span> <span class="k">in</span> <span class="n">animals</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">animal</span><span class="p">.</span><span class="n">Tostring</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><pre><code>+ 抗变
</code></pre>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="c1">//抗变需要使用关键字in</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">interface</span> <span class="nc">IGrassMuncher</span><span class="p">&lt;</span><span class="k">in</span> <span class="n">T</span><span class="p">&gt;</span><span class="c1">//抗变类型只能用作方法参数</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="p">...</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">AnimalNameLengthComparer</span><span class="p">:</span><span class="n">IComparer</span><span class="p">&lt;</span><span class="n">Animal</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="kt">int</span> <span class="n">Compare</span><span class="p">(</span><span class="n">Animal</span> <span class="n">x</span><span class="p">,</span><span class="n">Animal</span> <span class="n">y</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="n">x</span><span class="p">.</span><span class="n">Name</span><span class="p">.</span><span class="n">Length</span><span class="p">.</span><span class="n">CompareTo</span><span class="p">(</span><span class="n">y</span><span class="p">.</span><span class="n">Name</span><span class="p">.</span><span class="n">Length</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="事件-1" class="heading-element"><span>事件</span>
  <a href="#%e4%ba%8b%e4%bb%b6-1" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ul>
<li>事件必须订阅，可以由多个订阅</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">System.Timers</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Program</span>
</span></span><span class="line"><span class="cl">   <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kd">static</span> <span class="kt">int</span> <span class="n">counter</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="kd">static</span> <span class="kt">string</span> <span class="n">displayString</span> <span class="p">=</span> <span class="s">&#34;This string will appear one letter at a time. &#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="kd">static</span> <span class="k">void</span> <span class="n">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">{</span>
</span></span><span class="line"><span class="cl">         <span class="n">Timer</span> <span class="n">myTimer</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Timer</span><span class="p">(</span><span class="m">100</span><span class="p">);</span><span class="c1">//创建定时器，毫秒</span>
</span></span><span class="line"><span class="cl">         <span class="n">myTimer</span><span class="p">.</span><span class="n">Elapsed</span> <span class="p">+=</span> <span class="k">new</span> <span class="n">ElapsedEventHandler</span><span class="p">(</span><span class="n">WriteChar</span><span class="p">);</span><span class="c1">//Elapsed事件该事件必须匹配System.Timers.ElapsedEventHandler委托类型的返回值</span>
</span></span><span class="line"><span class="cl">								<span class="c1">//处理程序和事件订阅起来，事件处理方法初始化为一个新的委托实例</span>
</span></span><span class="line"><span class="cl">								<span class="c1">//可以直接写成myTimer.Elapsed +=WriteChar；</span>
</span></span><span class="line"><span class="cl">         <span class="n">myTimer</span><span class="p">.</span><span class="n">Start</span><span class="p">();</span><span class="c1">//启动定时器</span>
</span></span><span class="line"><span class="cl">         <span class="n">System</span><span class="p">.</span><span class="n">Threading</span><span class="p">.</span><span class="n">Thread</span><span class="p">.</span><span class="n">Sleep</span><span class="p">(</span><span class="m">200</span><span class="p">);</span><span class="c1">//将当前线程阻塞指定的毫秒数</span>
</span></span><span class="line"><span class="cl">         <span class="n">Console</span><span class="p">.</span><span class="n">ReadKey</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="kd">static</span> <span class="k">void</span> <span class="n">WriteChar</span><span class="p">(</span><span class="kt">object</span> <span class="n">source</span><span class="p">,</span> <span class="n">ElapsedEventArgs</span> <span class="n">e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">{</span>
</span></span><span class="line"><span class="cl">         <span class="n">Console</span><span class="p">.</span><span class="n">Write</span><span class="p">(</span><span class="n">displayString</span><span class="p">[</span><span class="n">counter</span><span class="p">++</span> <span class="p">%</span> <span class="n">displayString</span><span class="p">.</span><span class="n">Length</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">System</span><span class="p">.</span><span class="n">Timers</span><span class="p">.</span><span class="n">ElapsedEventHandler委托类型是标准委托之一</span><span class="err">，</span> 
</span></span><span class="line"><span class="cl"><span class="k">void</span> <span class="p">&lt;</span><span class="n">MethodName</span><span class="p">&gt;(</span><span class="kt">object</span> <span class="n">source</span><span class="p">,</span><span class="n">ElapsedEventArgs</span> <span class="n">e</span><span class="p">)</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>定义事件</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">delegate</span> <span class="k">void</span> <span class="n">MessageHandler</span><span class="p">(</span><span class="kt">string</span> <span class="n">messageText</span><span class="p">);</span><span class="c1">//定义委托，该委托用于定义的事件必须指明返回值的参数值</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Connection</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="k">event</span> <span class="n">MessageHandler</span> <span class="n">MessageArrived</span><span class="p">;</span><span class="c1">//给时间命名并指定委托的类型</span>
</span></span><span class="line"><span class="cl">  <span class="kd">private</span> <span class="n">Timer</span> <span class="n">pollTimer</span><span class="p">;</span><span class="c1">//定时器</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="n">Connection</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="n">pollTimer</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Timer</span><span class="p">(</span><span class="m">100</span><span class="p">);</span><span class="c1">//定时器时间</span>
</span></span><span class="line"><span class="cl">     <span class="n">pollTimer</span><span class="p">.</span><span class="n">Elapsed</span> <span class="p">+=</span> <span class="k">new</span> <span class="n">ElapsedEventHandler</span><span class="p">(</span><span class="n">CheckForMessage</span><span class="p">);</span><span class="c1">//定时器的事件委托</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="k">void</span> <span class="n">Connect</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="n">pollTimer</span><span class="p">.</span><span class="n">Start</span><span class="p">();</span><span class="c1">//定时器开始</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="k">void</span> <span class="n">Disconnect</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="n">pollTimer</span><span class="p">.</span><span class="n">Stop</span><span class="p">();</span><span class="c1">//定时器结束</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">private</span> <span class="kd">static</span> <span class="n">Random</span> <span class="n">random</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Random</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="kd">private</span> <span class="k">void</span> <span class="n">CheckForMessage</span><span class="p">(</span><span class="kt">object</span> <span class="n">source</span><span class="p">,</span> <span class="n">ElapsedEventArgs</span> <span class="n">e</span><span class="p">)</span><span class="c1">//定时器的委托函数；</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Checking for new messages.&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">     <span class="k">if</span> <span class="p">((</span><span class="n">random</span><span class="p">.</span><span class="n">Next</span><span class="p">(</span><span class="m">9</span><span class="p">)</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span> <span class="p">&amp;&amp;</span> <span class="p">(</span><span class="n">MessageArrived</span> <span class="p">!=</span> <span class="kc">null</span><span class="p">))</span><span class="cs">///生成一个0-9的数，如果是0，并且事件有订阅者，则事件实现委托就使用委托来</span>
</span></span><span class="line"><span class="cl">     <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">MessageArrived</span><span class="p">(</span><span class="s">&#34;Hello Mum!&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">     <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Display</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="k">void</span> <span class="n">DisplayMessage</span><span class="p">(</span><span class="kt">string</span> <span class="n">message</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Message arrived: {0}&#34;</span><span class="p">,</span> <span class="n">message</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Program</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">static</span> <span class="k">void</span> <span class="n">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="n">Connection</span> <span class="n">myConnection</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Connection</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">     <span class="n">Display</span> <span class="n">myDisplay</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Display</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">     <span class="n">myConnection</span><span class="p">.</span><span class="n">MessageArrived</span> <span class="p">+=</span><span class="k">new</span> <span class="n">MessageHandler</span><span class="p">(</span><span class="n">myDisplay</span><span class="p">.</span><span class="n">DisplayMessage</span><span class="p">);</span><span class="c1">//将委托和函数绑定</span>
</span></span><span class="line"><span class="cl">     <span class="n">myConnection</span><span class="p">.</span><span class="n">Connect</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">     <span class="n">System</span><span class="p">.</span><span class="n">Threading</span><span class="p">.</span><span class="n">Thread</span><span class="p">.</span><span class="n">Sleep</span><span class="p">(</span><span class="m">200</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">     <span class="n">Console</span><span class="p">.</span><span class="n">ReadKey</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>多用途事件处理程序
<ul>
<li>Timer.Elapsed事件的委托包含了事件处理程序中常见的两类参数</li>
<li>object source:引发事件对象的引用</li>
<li>ElapsdEventArgs:由事件传送的参数</li>
<li>由不同对象引发的几个相同事件使用相同事件处理程序</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">MessageArrivedEventArgs</span> <span class="p">:</span> <span class="n">EventArgs</span><span class="c1">//定义消息类</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">private</span> <span class="kt">string</span> <span class="n">message</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="kt">string</span> <span class="n">Message</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="k">get</span>
</span></span><span class="line"><span class="cl">     <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">message</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">     <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="n">MessageArrivedEventArgs</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="n">message</span> <span class="p">=</span> <span class="s">&#34;No message sent.&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="n">MessageArrivedEventArgs</span><span class="p">(</span><span class="kt">string</span> <span class="n">newMessage</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="n">message</span> <span class="p">=</span> <span class="n">newMessage</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Connection</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="k">event</span> <span class="n">EventHandler</span><span class="p">&lt;</span><span class="n">MessageArrivedEventArgs</span><span class="p">&gt;</span> <span class="n">MessageArrived</span><span class="p">;</span><span class="c1">//事件，EventHandler&lt;T&gt;为委托模板，将消息类传入</span>
</span></span><span class="line"><span class="cl">  <span class="kd">private</span> <span class="n">Timer</span> <span class="n">pollTimer</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="n">Connection</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="n">pollTimer</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Timer</span><span class="p">(</span><span class="m">100</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">     <span class="n">pollTimer</span><span class="p">.</span><span class="n">Elapsed</span> <span class="p">+=</span> <span class="k">new</span> <span class="n">ElapsedEventHandler</span><span class="p">(</span><span class="n">CheckForMessage</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="k">void</span> <span class="n">Connect</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="n">pollTimer</span><span class="p">.</span><span class="n">Start</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="k">void</span> <span class="n">Disconnect</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="n">pollTimer</span><span class="p">.</span><span class="n">Stop</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">private</span> <span class="kd">static</span> <span class="n">Random</span> <span class="n">random</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Random</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="kd">private</span> <span class="k">void</span> <span class="n">CheckForMessage</span><span class="p">(</span><span class="kt">object</span> <span class="n">source</span><span class="p">,</span> <span class="n">ElapsedEventArgs</span> <span class="n">e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Checking for new messages.&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">     <span class="k">if</span> <span class="p">((</span><span class="n">random</span><span class="p">.</span><span class="n">Next</span><span class="p">(</span><span class="m">9</span><span class="p">)</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span> <span class="p">&amp;&amp;</span> <span class="p">(</span><span class="n">MessageArrived</span> <span class="p">!=</span> <span class="kc">null</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">     <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">MessageArrived</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="k">new</span> <span class="n">MessageArrivedEventArgs</span><span class="p">(</span><span class="s">&#34;Hello Mum!&#34;</span><span class="p">));</span><span class="c1">//发送消息</span>
</span></span><span class="line"><span class="cl">     <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Display</span><span class="c1">//事件响应函数</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">public</span> <span class="k">void</span> <span class="n">DisplayMessage</span><span class="p">(</span><span class="kt">object</span> <span class="n">source</span><span class="p">,</span> <span class="n">MessageArrivedEventArgs</span> <span class="n">e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Message arrived from: {0}&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                       <span class="p">((</span><span class="n">Connection</span><span class="p">)</span><span class="n">source</span><span class="p">).</span><span class="n">Name</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">     <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Message Text: {0}&#34;</span><span class="p">,</span> <span class="n">e</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Program</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">static</span> <span class="k">void</span> <span class="n">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="n">Connection</span> <span class="n">myConnection1</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Connection</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">     <span class="n">myConnection1</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">&#34;First connection.&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">     <span class="n">Connection</span> <span class="n">myConnection2</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Connection</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">     <span class="n">myConnection2</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">&#34;Second connection.&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">     <span class="n">Display</span> <span class="n">myDisplay</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Display</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">     <span class="n">myConnection1</span><span class="p">.</span><span class="n">MessageArrived</span> <span class="p">+=</span> <span class="n">myDisplay</span><span class="p">.</span><span class="n">DisplayMessage</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">     <span class="n">myConnection2</span><span class="p">.</span><span class="n">MessageArrived</span> <span class="p">+=</span> <span class="n">myDisplay</span><span class="p">.</span><span class="n">DisplayMessage</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">     <span class="n">myConnection1</span><span class="p">.</span><span class="n">Connect</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">     <span class="n">myConnection2</span><span class="p">.</span><span class="n">Connect</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">     <span class="n">System</span><span class="p">.</span><span class="n">Threading</span><span class="p">.</span><span class="n">Thread</span><span class="p">.</span><span class="n">Sleep</span><span class="p">(</span><span class="m">200</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">     <span class="n">Console</span><span class="p">.</span><span class="n">ReadKey</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><pre><code>+ .net提供了两个委托类型：EventHandler和`EventHandler&lt;T&gt;`
+ 匿名方法，纯粹是为了用作委托目的而创建的
</code></pre>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">delegate</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">parameters参数化列表</span>
</span></span><span class="line"><span class="cl"><span class="n">myConnection1</span><span class="p">.</span><span class="n">MessageArrived</span> <span class="p">+=</span> <span class="k">delegate</span><span class="p">(</span><span class="n">Connection</span> <span class="n">source</span><span class="p">,</span><span class="n">MessageArriveEventArgs</span> <span class="n">e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span><span class="n">Console</span><span class="p">.</span><span class="n">writeline</span><span class="p">(</span><span class="s">&#34;message arrived from{0}&#34;</span><span class="p">,</span><span class="n">source</span><span class="p">.</span><span class="n">Name</span><span class="p">);}</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="特性元数据" class="heading-element"><span>特性，元数据</span>
  <a href="#%e7%89%b9%e6%80%a7%e5%85%83%e6%95%b0%e6%8d%ae" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>可以为代码段标记一些信息，这些信息可以从外部读取</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="na">[DebuggerStepThrough]</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">void</span> <span class="n">DullMethod</span><span class="p">()</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>{}该特性说明，在调试的时候不进入该方法进行逐句调试，而是跳过该方法,该特性通过DebuggerStepThroughAttribute这个类来实现的，这个类位于System.Diagnostics名称空间中</li>
<li>特性的参数可以自己设置[DoesInterestingThings(1000, WhatDoesItDo = &ldquo;voodoo&rdquo;)]</li>
<li>读取特性需要用到反射,Type.GetCustomAttributes来实现</li>
</ul>
<h2 id="补充" class="heading-element"><span>补充</span>
  <a href="#%e8%a1%a5%e5%85%85" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><ul>
<li>对象初始化器
<ul>
<li>省略构造函数的括号，自动调用无参数构造函数，之后调用初始化器</li>
<li>同时对象初始化器还可以进行嵌套</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="c1">//初始化器,使用默认构造函数实现赋值</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="n">classname</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="n">variableName</span><span class="p">&gt;=</span><span class="k">new</span> <span class="p">&lt;</span><span class="n">claseename</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="n">propertyOrField1</span><span class="p">&gt;=&lt;</span><span class="n">value1</span><span class="p">&gt;,</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="n">propertyOrField2</span><span class="p">&gt;=&lt;</span><span class="n">value2</span><span class="p">&gt;,</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="n">propertyOrField3</span><span class="p">&gt;=&lt;</span><span class="n">value3</span><span class="p">&gt;,</span>
</span></span><span class="line"><span class="cl">	<span class="p">...</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">Curry</span> <span class="n">tastyCurry</span><span class="p">=</span><span class="k">new</span> <span class="n">Curry</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">MainInte</span><span class="p">=</span><span class="s">&#34;ddddd&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="n">Origin</span><span class="p">=</span><span class="k">new</span> <span class="n">restaurant</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="n">Name</span><span class="p">=</span><span class="s">&#34;ddd&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>集合初始化器</p>
</li>
<li>
<p>类型推理：var ,编译器来确定类型，var关键字还可以通过数组初始化器来推断数组的类型：<code>var myarray=new [] {4,5,6,7};</code>4,5,6,7必须遵循：相同的类型，相同的引用类型或空，所有元素的类型都可以隐式转换为同一类型</p>
</li>
<li>
<p>匿名对象：为了减少创建对象所消耗的时间，其理念就是让编辑器根据要存储的数据自动创建类型，而不是定义简单的数据存储类型</p>
<ul>
<li>匿名类型</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">curry</span><span class="p">=</span><span class="k">new</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="n">MainIngredient</span><span class="p">=</span><span class="s">&#34;lamb&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="n">Style</span><span class="p">=</span><span class="s">&#34;Dhansnk&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="n">Spiciness</span><span class="p">=</span><span class="m">5</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></td></tr></table>
</div>
</div><pre><code>	+ 使用var关键字，因为匿名类型没有可以使用的标识符，
	+ new后面没有指定类型的名称
	+ 匿名对象的属性被定义为只读，如果在存储对象中修改属性的值，就不能使用匿名对象。
	+ 使用动态查找功能可以处理未知的C#类型
</code></pre>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Program</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">static</span> <span class="k">void</span> <span class="n">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	 <span class="kt">var</span> <span class="n">curries</span> <span class="p">=</span> <span class="k">new</span><span class="p">[]</span>
</span></span><span class="line"><span class="cl">	 <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">new</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">		   <span class="n">MainIngredient</span> <span class="p">=</span> <span class="s">&#34;Lamb&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		   <span class="n">Style</span> <span class="p">=</span> <span class="s">&#34;Dhansak&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		   <span class="n">Spiciness</span> <span class="p">=</span> <span class="m">5</span>
</span></span><span class="line"><span class="cl">		<span class="p">},</span>
</span></span><span class="line"><span class="cl">		<span class="k">new</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">		   <span class="n">MainIngredient</span> <span class="p">=</span> <span class="s">&#34;Lamb&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		   <span class="n">Style</span> <span class="p">=</span> <span class="s">&#34;Dhansak&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		   <span class="n">Spiciness</span> <span class="p">=</span> <span class="m">5</span>
</span></span><span class="line"><span class="cl">		<span class="p">},</span>
</span></span><span class="line"><span class="cl">		<span class="k">new</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">		   <span class="n">MainIngredient</span> <span class="p">=</span> <span class="s">&#34;Chicken&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		   <span class="n">Style</span> <span class="p">=</span> <span class="s">&#34;Dhansak&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		   <span class="n">Spiciness</span> <span class="p">=</span> <span class="m">5</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	 <span class="p">};</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">curries</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">ToString</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">curries</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">GetHashCode</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">curries</span><span class="p">[</span><span class="m">1</span><span class="p">].</span><span class="n">GetHashCode</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">curries</span><span class="p">[</span><span class="m">2</span><span class="p">].</span><span class="n">GetHashCode</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">curries</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">Equals</span><span class="p">(</span><span class="n">curries</span><span class="p">[</span><span class="m">1</span><span class="p">]));</span><span class="c1">//比较状态，即每个属性的值</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">curries</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">Equals</span><span class="p">(</span><span class="n">curries</span><span class="p">[</span><span class="m">2</span><span class="p">]));</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">curries</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="p">==</span> <span class="n">curries</span><span class="p">[</span><span class="m">1</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">curries</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="p">==</span> <span class="n">curries</span><span class="p">[</span><span class="m">2</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">ReadKey</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span> <span class="n">MainIngredient</span> <span class="p">=</span> <span class="n">Lamb</span><span class="p">,</span> <span class="n">Style</span> <span class="p">=</span> <span class="n">Dhansak</span><span class="p">,</span> <span class="n">Spiciness</span> <span class="p">=</span> <span class="m">5</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="m">294897435</span>
</span></span><span class="line"><span class="cl"><span class="m">294897435</span>
</span></span><span class="line"><span class="cl"><span class="m">621671265</span>
</span></span><span class="line"><span class="cl"><span class="n">True</span>
</span></span><span class="line"><span class="cl"><span class="n">False</span>
</span></span><span class="line"><span class="cl"><span class="n">False</span>
</span></span><span class="line"><span class="cl"><span class="n">False</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>动态类型：dynamic myDynamicVar;在编译期间会被object替代，</li>
<li>默认参数类型</li>
<li>可变参数</li>
<li>命名参数：首先选定必选参数，再指定命名的可选参数</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">static</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">GetWords</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">	 <span class="kt">string</span> <span class="n">sentence</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	 <span class="kt">bool</span> <span class="n">capitalizeWords</span> <span class="p">=</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	 <span class="kt">bool</span> <span class="n">reverseOrder</span> <span class="p">=</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	 <span class="kt">bool</span> <span class="n">reverseWords</span> <span class="p">=</span> <span class="kc">false</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">words</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="n">sentence</span><span class="p">.</span><span class="n">Split</span><span class="p">(</span><span class="sc">&#39; &#39;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"> <span class="k">if</span> <span class="p">(</span><span class="n">capitalizeWords</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">words</span> <span class="p">=</span> <span class="n">CapitalizeWords</span><span class="p">(</span><span class="n">words</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"> <span class="k">if</span> <span class="p">(</span><span class="n">reverseOrder</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">words</span> <span class="p">=</span> <span class="n">ReverseOrder</span><span class="p">(</span><span class="n">words</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"> <span class="k">if</span> <span class="p">(</span><span class="n">reverseWords</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">words</span> <span class="p">=</span> <span class="n">ReverseWords</span><span class="p">(</span><span class="n">words</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"> <span class="k">return</span> <span class="n">words</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">words</span> <span class="p">=</span> <span class="n">WordProcessor</span><span class="p">.</span><span class="n">GetWords</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="n">sentence</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="n">reverseWords</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">capitalizeWords</span><span class="p">:</span> <span class="kc">true</span><span class="p">);</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>扩展方法
<ul>
<li>要创建和使用扩展方法必须：
<ul>
<li>创建一个非泛型静态类</li>
<li>使用扩展方法的语法，为所创建的类添加扩展方法，做为静态方法</li>
<li>确保使用扩展方法的代码用using语法导入包含扩展方法类的名称空间</li>
<li>通过扩展类型的一个实例调用扩展方法，与调用扩展类型的其他方法一样。</li>
</ul>
</li>
<li>扩展方法的要求：
<ul>
<li>方法必须是静态的</li>
<li>方法必须包含一个参数，表示调用扩展方法的类型实例</li>
<li>实例参数必须是方法定义的第一个参数，</li>
<li>除了this关键字外，实例参数不能有其他修饰符</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">static</span> <span class="k">class</span> <span class="nc">ExtensionClass</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="kd">static</span> <span class="p">&lt;</span><span class="n">ReturnType</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="n">ExtensionMethodName</span><span class="p">&gt;(</span><span class="k">this</span> <span class="p">&lt;</span><span class="n">TyprToExtend</span><span class="p">&gt;</span> <span class="n">instance</span> <span class="p">,&lt;</span><span class="n">otherParamters</span><span class="p">&gt;)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="p">...</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">static</span> <span class="k">class</span> <span class="nc">ExtensionClass</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="kd">static</span> <span class="p">&lt;</span><span class="n">ReturnType</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="n">ExtensionMethodName</span><span class="p">&gt;(</span><span class="k">this</span> <span class="p">&lt;</span><span class="n">TyprToExtend</span><span class="p">&gt;</span> <span class="n">instance</span> <span class="p">,&lt;</span><span class="n">otherParamters</span><span class="p">&gt;)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="p">...</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="n">TypeToExtend</span><span class="p">&gt;</span> <span class="n">myVar</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1">//myVar is initialized by code  not shown here</span>
</span></span><span class="line"><span class="cl"><span class="n">myVar</span><span class="p">.&lt;</span><span class="n">ExtensionMethodName</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="n">TypeToExtend</span><span class="p">&gt;</span> <span class="n">myVar</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">ExtensionClass</span><span class="p">.&lt;</span><span class="n">ExtensionMethodName</span><span class="p">&gt;(</span><span class="n">myVar</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="c1">//导入后可以通过IntelliSense查看扩展方法</span>
</span></span><span class="line"><span class="cl"><span class="c1">//定义了一个扩展方法后还可以将其运用到派生于这个类型的子类型中</span>
</span></span><span class="line"><span class="cl"><span class="k">namespace</span> <span class="nn">ExtensionLib</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="kd">public</span> <span class="kd">static</span> <span class="k">class</span> <span class="nc">WordProcessor</span>
</span></span><span class="line"><span class="cl">   <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kd">public</span> <span class="kd">static</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">GetWords</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">         <span class="k">this</span> <span class="kt">string</span> <span class="n">sentence</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">         <span class="kt">bool</span> <span class="n">capitalizeWords</span> <span class="p">=</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">         <span class="kt">bool</span> <span class="n">reverseOrder</span> <span class="p">=</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">         <span class="kt">bool</span> <span class="n">reverseWords</span> <span class="p">=</span> <span class="kc">false</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">{</span>
</span></span><span class="line"><span class="cl">         <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">words</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="n">sentence</span><span class="p">.</span><span class="n">Split</span><span class="p">(</span><span class="sc">&#39; &#39;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">         <span class="k">if</span> <span class="p">(</span><span class="n">capitalizeWords</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">words</span> <span class="p">=</span> <span class="n">CapitalizeWords</span><span class="p">(</span><span class="n">words</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">         <span class="k">if</span> <span class="p">(</span><span class="n">reverseOrder</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">words</span> <span class="p">=</span> <span class="n">ReverseOrder</span><span class="p">(</span><span class="n">words</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">         <span class="k">if</span> <span class="p">(</span><span class="n">reverseWords</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">words</span> <span class="p">=</span> <span class="n">ReverseWords</span><span class="p">(</span><span class="n">words</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">         <span class="k">return</span> <span class="n">words</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">string</span> <span class="n">ToStringReversed</span><span class="p">(</span><span class="k">this</span> <span class="kt">object</span> <span class="n">inputObject</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="n">ReverseWord</span><span class="p">(</span><span class="n">inputObject</span><span class="p">.</span><span class="n">ToString</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">ExtensionLib</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kd">static</span> <span class="k">void</span> <span class="n">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Enter a string to convert:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"> <span class="kt">string</span> <span class="n">sourceString</span> <span class="p">=</span> <span class="n">Console</span><span class="p">.</span><span class="n">ReadLine</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"> <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;String with title casing: {0}&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">sourceString</span><span class="p">.</span><span class="n">GetWords</span><span class="p">(</span><span class="n">capitalizeWords</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">       <span class="p">.</span><span class="n">AsSentence</span><span class="p">());</span>
</span></span><span class="line"><span class="cl"> <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;String backwards: {0}&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">sourceString</span><span class="p">.</span><span class="n">GetWords</span><span class="p">(</span><span class="n">reverseOrder</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">       <span class="n">reverseWords</span><span class="p">:</span> <span class="kc">true</span><span class="p">).</span><span class="n">AsSentence</span><span class="p">());</span>
</span></span><span class="line"><span class="cl"> <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;String length backwards: {0}&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">sourceString</span><span class="p">.</span><span class="n">Length</span><span class="p">.</span><span class="n">ToStringReversed</span><span class="p">());</span>
</span></span><span class="line"><span class="cl"> <span class="n">Console</span><span class="p">.</span><span class="n">ReadKey</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>lambda表达式
<ul>
<li>定义一个事件处理方法，其返回类型和参数匹配要订阅的事件需要委托返回类型和参数</li>
<li>声明一个委托类型的变量</li>
<li>把委托变量初始化为委托类型的实例，实例指向事件处理方法</li>
<li>把委托变量添加到时间的订阅者列表中</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span><span class="lnt">83
</span><span class="lnt">84
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="err">正常的事件</span>
</span></span><span class="line"><span class="cl"><span class="n">Timer</span> <span class="n">myTimer</span> <span class="p">=</span><span class="k">new</span> <span class="n">Timer</span><span class="p">(</span><span class="m">1000</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">myTimer</span><span class="p">.</span><span class="n">Elapsed</span><span class="p">+=</span><span class="k">new</span> <span class="n">ElapsedEvendHandler</span><span class="p">(</span><span class="n">WriteChar</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="c1">//可以直接写成</span>
</span></span><span class="line"><span class="cl"><span class="n">myTimer</span><span class="p">.</span><span class="n">Elapsed</span><span class="p">+=</span><span class="n">WriteChar</span><span class="err">；</span>
</span></span><span class="line"><span class="cl"><span class="c1">//使用匿名的方法</span>
</span></span><span class="line"><span class="cl"><span class="n">myTimer</span><span class="p">.</span><span class="n">Elapsed</span><span class="p">+=</span>
</span></span><span class="line"><span class="cl">	<span class="k">delegate</span><span class="p">(</span><span class="kt">object</span> <span class="n">source</span><span class="p">,</span><span class="n">ElapsedEvendArgs</span> <span class="n">e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Event handler called after {0} milliseconds&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">		<span class="p">(</span><span class="n">source</span> <span class="k">as</span> <span class="n">Timer</span><span class="p">).</span><span class="n">Interval</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//使用lambda表达式</span>
</span></span><span class="line"><span class="cl"><span class="n">myTimer</span><span class="p">.</span><span class="n">Elapsed</span><span class="p">+=(</span><span class="n">source</span> <span class="p">,</span><span class="n">e</span> <span class="p">)=&gt;</span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;Event handler called after {0} milliseconds&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="p">(</span><span class="n">source</span> <span class="k">as</span> <span class="n">Timer</span><span class="p">).</span><span class="n">Interval</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="c1">//放在括号中的参数列表（未类型化）</span>
</span></span><span class="line"><span class="cl"><span class="c1">//=&gt;运算符</span>
</span></span><span class="line"><span class="cl"><span class="c1">//C#语法</span>
</span></span><span class="line"><span class="cl"><span class="c1">//使用lambda表达式的例子</span>
</span></span><span class="line"><span class="cl"><span class="k">delegate</span> <span class="kt">int</span> <span class="n">TwoIntegerOperationDelegate</span><span class="p">(</span><span class="kt">int</span> <span class="n">paramA</span><span class="p">,</span> <span class="kt">int</span> <span class="n">paramB</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Program</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">static</span> <span class="k">void</span> <span class="n">PerformOperations</span><span class="p">(</span><span class="n">TwoIntegerOperationDelegate</span> <span class="n">del</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	 <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">paramAVal</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span> <span class="n">paramAVal</span> <span class="p">&lt;=</span> <span class="m">5</span><span class="p">;</span> <span class="n">paramAVal</span><span class="p">++)</span>
</span></span><span class="line"><span class="cl">	 <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">paramBVal</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span> <span class="n">paramBVal</span> <span class="p">&lt;=</span> <span class="m">5</span><span class="p">;</span> <span class="n">paramBVal</span><span class="p">++)</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">		   <span class="kt">int</span> <span class="n">delegateCallResult</span> <span class="p">=</span> <span class="n">del</span><span class="p">(</span><span class="n">paramAVal</span><span class="p">,</span> <span class="n">paramBVal</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">		   <span class="n">Console</span><span class="p">.</span><span class="n">Write</span><span class="p">(</span><span class="s">&#34;f({0},{1})={2}&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">			  <span class="n">paramAVal</span><span class="p">,</span> <span class="n">paramBVal</span><span class="p">,</span> <span class="n">delegateCallResult</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">		   <span class="k">if</span> <span class="p">(</span><span class="n">paramBVal</span> <span class="p">!=</span> <span class="m">5</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		   <span class="p">{</span>
</span></span><span class="line"><span class="cl">			  <span class="n">Console</span><span class="p">.</span><span class="n">Write</span><span class="p">(</span><span class="s">&#34;, &#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">		   <span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">	 <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">static</span> <span class="k">void</span> <span class="n">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;f(a, b) = a + b:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	 <span class="n">PerformOperations</span><span class="p">((</span><span class="n">paramA</span><span class="p">,</span> <span class="n">paramB</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">paramA</span> <span class="p">+</span> <span class="n">paramB</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;f(a, b) = a * b:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	 <span class="n">PerformOperations</span><span class="p">((</span><span class="n">paramA</span><span class="p">,</span> <span class="n">paramB</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">paramA</span> <span class="p">*</span> <span class="n">paramB</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;f(a, b) = (a - b) % b:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	 <span class="n">PerformOperations</span><span class="p">((</span><span class="n">paramA</span><span class="p">,</span> <span class="n">paramB</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="n">paramA</span> <span class="p">-</span> <span class="n">paramB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">%</span> <span class="n">paramB</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">ReadKey</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="err">结果：</span>
</span></span><span class="line"><span class="cl"><span class="n">f</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="p">=</span> <span class="n">a</span> <span class="p">+</span> <span class="n">b</span><span class="p">:</span>
</span></span><span class="line"><span class="cl"><span class="n">f</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">1</span><span class="p">)=</span><span class="m">2</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">)=</span><span class="m">3</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">3</span><span class="p">)=</span><span class="m">4</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">4</span><span class="p">)=</span><span class="m">5</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">5</span><span class="p">)=</span><span class="m">6</span>
</span></span><span class="line"><span class="cl"><span class="n">f</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">1</span><span class="p">)=</span><span class="m">3</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">2</span><span class="p">)=</span><span class="m">4</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">)=</span><span class="m">5</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">4</span><span class="p">)=</span><span class="m">6</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">5</span><span class="p">)=</span><span class="m">7</span>
</span></span><span class="line"><span class="cl"><span class="n">f</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="m">1</span><span class="p">)=</span><span class="m">4</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="m">2</span><span class="p">)=</span><span class="m">5</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="m">3</span><span class="p">)=</span><span class="m">6</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="m">4</span><span class="p">)=</span><span class="m">7</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="m">5</span><span class="p">)=</span><span class="m">8</span>
</span></span><span class="line"><span class="cl"><span class="n">f</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">1</span><span class="p">)=</span><span class="m">5</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">2</span><span class="p">)=</span><span class="m">6</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">3</span><span class="p">)=</span><span class="m">7</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">4</span><span class="p">)=</span><span class="m">8</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">5</span><span class="p">)=</span><span class="m">9</span>
</span></span><span class="line"><span class="cl"><span class="n">f</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="m">1</span><span class="p">)=</span><span class="m">6</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="m">2</span><span class="p">)=</span><span class="m">7</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="m">3</span><span class="p">)=</span><span class="m">8</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="m">4</span><span class="p">)=</span><span class="m">9</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="m">5</span><span class="p">)=</span><span class="m">10</span>
</span></span><span class="line"><span class="cl"><span class="n">f</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="p">=</span> <span class="n">a</span> <span class="p">*</span> <span class="n">b</span><span class="p">:</span>
</span></span><span class="line"><span class="cl"><span class="n">f</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">1</span><span class="p">)=</span><span class="m">1</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">)=</span><span class="m">2</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">3</span><span class="p">)=</span><span class="m">3</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">4</span><span class="p">)=</span><span class="m">4</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">5</span><span class="p">)=</span><span class="m">5</span>
</span></span><span class="line"><span class="cl"><span class="n">f</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">1</span><span class="p">)=</span><span class="m">2</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">2</span><span class="p">)=</span><span class="m">4</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">)=</span><span class="m">6</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">4</span><span class="p">)=</span><span class="m">8</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">5</span><span class="p">)=</span><span class="m">10</span>
</span></span><span class="line"><span class="cl"><span class="n">f</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="m">1</span><span class="p">)=</span><span class="m">3</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="m">2</span><span class="p">)=</span><span class="m">6</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="m">3</span><span class="p">)=</span><span class="m">9</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="m">4</span><span class="p">)=</span><span class="m">12</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="m">5</span><span class="p">)=</span><span class="m">15</span>
</span></span><span class="line"><span class="cl"><span class="n">f</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">1</span><span class="p">)=</span><span class="m">4</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">2</span><span class="p">)=</span><span class="m">8</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">3</span><span class="p">)=</span><span class="m">12</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">4</span><span class="p">)=</span><span class="m">16</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">5</span><span class="p">)=</span><span class="m">20</span>
</span></span><span class="line"><span class="cl"><span class="n">f</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="m">1</span><span class="p">)=</span><span class="m">5</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="m">2</span><span class="p">)=</span><span class="m">10</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="m">3</span><span class="p">)=</span><span class="m">15</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="m">4</span><span class="p">)=</span><span class="m">20</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="m">5</span><span class="p">)=</span><span class="m">25</span>
</span></span><span class="line"><span class="cl"><span class="n">f</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="p">=</span> <span class="p">(</span><span class="n">a</span> <span class="p">-</span> <span class="n">b</span><span class="p">)</span> <span class="p">%</span> <span class="n">b</span><span class="p">:</span>
</span></span><span class="line"><span class="cl"><span class="n">f</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">1</span><span class="p">)=</span><span class="m">0</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">)=-</span><span class="m">1</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">3</span><span class="p">)=-</span><span class="m">2</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">4</span><span class="p">)=-</span><span class="m">3</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">5</span><span class="p">)=-</span><span class="m">4</span>
</span></span><span class="line"><span class="cl"><span class="n">f</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">1</span><span class="p">)=</span><span class="m">0</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">2</span><span class="p">)=</span><span class="m">0</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">)=-</span><span class="m">1</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">4</span><span class="p">)=-</span><span class="m">2</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">5</span><span class="p">)=-</span><span class="m">3</span>
</span></span><span class="line"><span class="cl"><span class="n">f</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="m">1</span><span class="p">)=</span><span class="m">0</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="m">2</span><span class="p">)=</span><span class="m">1</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="m">3</span><span class="p">)=</span><span class="m">0</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="m">4</span><span class="p">)=-</span><span class="m">1</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="m">5</span><span class="p">)=-</span><span class="m">2</span>
</span></span><span class="line"><span class="cl"><span class="n">f</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">1</span><span class="p">)=</span><span class="m">0</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">2</span><span class="p">)=</span><span class="m">0</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">3</span><span class="p">)=</span><span class="m">1</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">4</span><span class="p">)=</span><span class="m">0</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">5</span><span class="p">)=-</span><span class="m">1</span>
</span></span><span class="line"><span class="cl"><span class="n">f</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="m">1</span><span class="p">)=</span><span class="m">0</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="m">2</span><span class="p">)=</span><span class="m">1</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="m">3</span><span class="p">)=</span><span class="m">2</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="m">4</span><span class="p">)=</span><span class="m">1</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="m">5</span><span class="p">)=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl"><span class="c1">//lambda表达式的参数,参数可以指定类型，但是不能一个指定，另一个不指定</span>
</span></span><span class="line"><span class="cl"><span class="c1">//(int paramA,int paramB)=&gt;paramA+paramB</span>
</span></span><span class="line"><span class="cl"><span class="c1">//lambda表达式的语句体</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="n">param1</span><span class="p">,</span><span class="n">param2</span><span class="p">)=&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//Multiple statements ahoy</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="n">param1</span><span class="p">,</span><span class="n">param2</span><span class="p">)=&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="n">returnValue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><pre><code>+ lambda有两种理解：
	+ lambda表达式是一个委托，可以将其赋给一个委托类型的变量，
	+ Action，表示lambda表达式不带参数,返回类型void
	+ Action&lt;&gt;,表示lambda表达式最多8个参数返回类型是void
	+ Func&lt;&gt;,表示lambda表达式最多8个参数，返回类型不是void
	+ lambda表达式是表达式树，
	+ LINQ框架包含一各泛型Expression&lt;&gt;，可以转换为封装的Lambda表达式
+ lambda表达式和集合
	+ 学习Func&lt;&gt;委托后就可以理解，System.Linq名称空间中的为数组提供的扩展方法
</code></pre>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">static</span> <span class="n">TSource</span> <span class="n">Aggregate</span><span class="p">&lt;</span><span class="n">TSource</span><span class="p">&gt;(</span>
</span></span><span class="line"><span class="cl">	<span class="k">this</span> <span class="n">Enumerable</span><span class="p">&lt;</span><span class="n">TSource</span><span class="p">&gt;</span> <span class="n">source</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="n">Func</span><span class="p">&lt;</span><span class="n">TSource</span><span class="p">,</span><span class="n">TSource</span><span class="p">,</span><span class="n">TSource</span><span class="p">&gt;</span> <span class="n">func</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">static</span> <span class="n">TAccumlate</span> <span class="n">Aggregate</span><span class="p">&lt;</span><span class="n">TSource</span><span class="p">,</span><span class="n">TAccumlate</span><span class="p">&gt;(</span>
</span></span><span class="line"><span class="cl">	<span class="k">this</span> <span class="n">Enumerable</span><span class="p">&lt;</span><span class="n">TSource</span><span class="p">&gt;</span> <span class="n">source</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="n">TAccumlate</span> <span class="n">seed</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="n">Func</span><span class="p">&lt;</span><span class="n">TAccumlate</span><span class="p">,</span><span class="n">TSource</span><span class="p">,</span><span class="n">TAccumlate</span><span class="p">&gt;</span> <span class="n">func</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">static</span> <span class="n">TResult</span> <span class="n">Aggregate</span><span class="p">&lt;</span><span class="n">TSource</span><span class="p">,</span><span class="n">TAccumlate</span><span class="p">,</span><span class="n">Aggregate</span><span class="p">&lt;</span><span class="n">TSource</span><span class="p">,</span><span class="n">TAccumlate</span><span class="p">,</span><span class="n">TResult</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">(</span><span class="n">TResult</span><span class="p">&gt;(</span><span class="k">this</span> <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">TSource</span><span class="p">&gt;</span> <span class="n">source</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="n">TAccumlate</span> <span class="n">seed</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="n">Func</span><span class="p">&lt;</span><span class="n">TAccumlate</span><span class="p">,</span><span class="n">TSource</span><span class="p">,</span><span class="n">TAccumlate</span><span class="p">&gt;</span> <span class="n">func</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="n">Func</span><span class="p">&lt;</span><span class="n">TAccumlate</span><span class="p">,</span><span class="n">TResult</span><span class="p">&gt;</span><span class="n">resultSelectoe</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="c1">//这是一个累计器</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span><span class="p">[]</span> <span class="n">myIntArray</span><span class="p">={</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">4</span><span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">result</span> <span class="p">=</span> <span class="n">myIntArray</span><span class="p">.</span><span class="n">Aggregate</span><span class="p">(...);</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">result</span> <span class="p">=</span> <span class="n">myIntArray</span><span class="p">.</span><span class="n">Aggregate</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;(...);</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">result</span> <span class="p">=</span> <span class="n">myIntArray</span><span class="p">.</span><span class="n">Aggregate</span><span class="p">((</span><span class="n">paramA</span><span class="p">,</span><span class="n">paramB</span><span class="p">)=&gt;</span><span class="n">paramA</span><span class="p">+</span><span class="n">paramB</span><span class="p">);</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Program</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">static</span> <span class="k">void</span> <span class="n">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	 <span class="kt">string</span><span class="p">[]</span> <span class="n">curries</span> <span class="p">=</span> <span class="p">{</span> <span class="s">&#34;pathia&#34;</span><span class="p">,</span> <span class="s">&#34;jalfrezi&#34;</span><span class="p">,</span> <span class="s">&#34;korma&#34;</span> <span class="p">};</span><span class="c1">//6,8,5</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">curries</span><span class="p">.</span><span class="n">Aggregate</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">		<span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">a</span> <span class="p">+</span> <span class="s">&#34; &#34;</span> <span class="p">+</span> <span class="n">b</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">curries</span><span class="p">.</span><span class="n">Aggregate</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">int</span><span class="p">&gt;(</span>
</span></span><span class="line"><span class="cl">		<span class="m">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">a</span> <span class="p">+</span> <span class="n">b</span><span class="p">.</span><span class="n">Length</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">curries</span><span class="p">.</span><span class="n">Aggregate</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;(</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;Some curries:&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">a</span> <span class="p">+</span> <span class="s">&#34; &#34;</span> <span class="p">+</span> <span class="n">b</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="n">a</span> <span class="p">=&gt;</span> <span class="n">a</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">curries</span><span class="p">.</span><span class="n">Aggregate</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">,</span> <span class="kt">int</span><span class="p">&gt;(</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;Some curries:&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">a</span> <span class="p">+</span> <span class="s">&#34; &#34;</span> <span class="p">+</span> <span class="n">b</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="n">a</span> <span class="p">=&gt;</span> <span class="n">a</span><span class="p">.</span><span class="n">Length</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">ReadKey</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">pathia</span> <span class="n">jalfrezi</span> <span class="n">korma</span>
</span></span><span class="line"><span class="cl"><span class="m">19</span>
</span></span><span class="line"><span class="cl"><span class="n">Some</span> <span class="n">curries</span><span class="p">:</span> <span class="n">pathia</span> <span class="n">jalfrezi</span> <span class="n">korma</span>
</span></span><span class="line"><span class="cl"><span class="m">35</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>调用方信息特征
<ul>
<li>CallFilePath()该特性用于获取调用代码所在的文件路径</li>
<li>CallerLineNumber()该特性用于获取调用代码在文件中的行号</li>
<li>CallMemberName()获取调用代码所在成员的名称</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C#" data-lang="C#"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Program</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">static</span> <span class="k">void</span> <span class="n">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	 <span class="n">DisplayCallerInformation</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Action</span> <span class="n">callerDelegate</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Action</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="n">DisplayCallerInformation</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">	 <span class="n">callerDelegate</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">	 <span class="n">CallerHelper</span><span class="p">(</span><span class="n">callerDelegate</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Caller</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">	 <span class="n">DisplayCallerInformation</span><span class="p">(</span><span class="m">3</span><span class="p">,</span> <span class="s">&#34;Bob&#34;</span><span class="p">,</span> <span class="s">@&#34;C:\Temp\NotRealCode.cs&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">ReadKey</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">static</span> <span class="k">void</span> <span class="n">CallerHelper</span><span class="p">(</span><span class="n">Action</span> <span class="n">callToMake</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	 <span class="n">callToMake</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">static</span> <span class="k">void</span> <span class="n">Caller</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	 <span class="n">DisplayCallerInformation</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kd">static</span> <span class="k">void</span> <span class="n">DisplayCallerInformation</span><span class="p">(</span>
</span></span><span class="line"><span class="cl"><span class="na">	 [CallerLineNumber]</span> <span class="kt">int</span> <span class="n">callerLineNumber</span> <span class="p">=</span> <span class="m">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="na">	 [CallerMemberName]</span> <span class="kt">string</span> <span class="n">callerMemberName</span> <span class="p">=</span> <span class="s">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="na">	 [CallerFilePath]</span> <span class="kt">string</span> <span class="n">callerFilePath</span> <span class="p">=</span> <span class="s">&#34;&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	 <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">		<span class="kt">string</span><span class="p">.</span><span class="n">Format</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">		   <span class="s">&#34;Method called from line {0} of member {1} in file {2}.&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		   <span class="n">callerLineNumber</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		   <span class="n">callerMemberName</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		   <span class="n">callerFilePath</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div></div><div class="post-footer" id="post-footer">
  <div class="post-info">
    <div class="post-info-line">
      <div class="post-info-mod">
        <span title="更新于 2018-11-22 17:09:22">更新于 2018-11-22&nbsp;</span>
      </div><div class="post-info-license">
            <span><a rel="license external nofollow noopener noreferrer" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0 转载请注明来源</a></span>
          </div></div><div class="post-info-line">
        <div class="post-info-md"><span><a href="https://github.com/DDuuuu/issues/new?title=[BUG]%20DotNet%E5%9F%BA%E7%A1%80&#43;%E5%85%A5%E9%97%A8&amp;body=%7cField%7cValue%7c%0A%7c-%7c-%7c%0A%7cTitle%7cDotNet%E5%9F%BA%E7%A1%80&#43;%E5%85%A5%E9%97%A8%7c%0A%7cURL%7chttps://DDuuuu.github.io/2018/11/dotnetbase2-sql-adonet/%7c%0A%7cFilename%7c%7c" title="报告问题"target="_blank" rel="external nofollow noopener noreferrer" class="link-to-report">报告问题</a></span></div>
        <div class="post-info-share">
          <span></span>
        </div>
      </div></div>

  <div class="post-info-more">
    <section class="post-tags"><i class="fa-solid fa-tags fa-fw me-1" aria-hidden="true"></i><a href="/tags/dotnet%E5%9F%BA%E7%A1%80/" class="post-tag" title="标签 - DotNet基础">DotNet基础</a><a href="/tags/%E5%85%A5%E9%97%A8/" class="post-tag" title="标签 - 入门">入门</a></section>
    <section>
      <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
    </section>
  </div>

  <div class="post-nav"><a href="/2018/10/dotnetbase2-sql-adonet/" class="post-nav-item" rel="prev" title="DotNet基础 Sql Ado.Net"><i class="fa-solid fa-angle-left fa-fw" aria-hidden="true"></i>DotNet基础 Sql Ado.Net</a>
      <a href="/2019/03/web3-javascript/" class="post-nav-item" rel="next" title="自学 Javascript">自学 Javascript<i class="fa-solid fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
<div class="post-reward">
    <div class="comment">为爱发电,请我喝杯咖啡吧</div>
    <input type="checkbox" class="reward-input" name="reward" id="fi-reward" hidden />
    <label class="reward-button" for="fi-reward"><i class="fa-solid fa-qrcode fa-fw" aria-hidden="true"></i>赞赏</label>
    <div class="reward-ways" data-mode="static"><div><img loading="lazy" src="/images/alipay.jpg" alt="AndrewDu 支付宝" data-title="AndrewDu 支付宝" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/><span data-animation>支付宝</span>
          </div><div><img loading="lazy" src="/images/wechat.jpg" alt="AndrewDu 微信" data-title="AndrewDu 微信" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/><span data-animation>微信</span>
          </div></div>
  </div><div id="comments"><div id="giscus" class="comment">
          <script
            src="https://giscus.app/client.js"
            data-repo="DDuuuu/DDuuuu.github.io"
            data-repo-id="R_kgDOMOxQVQ"
            data-category="Announcements"
            data-category-id="DIC_kwDOMOxQVc4Cgd23"
            data-mapping="pathname"
            data-strict="0"
            
            data-theme="preferred_color_scheme"
            data-reactions-enabled="1"
            data-emit-metadata="0"
            data-input-position="bottom"
            data-lang="zh-CN"
            data-loading="lazy"
            crossorigin="anonymous"
            async
            defer
          ></script>
        </div>
        <noscript>
          Please enable JavaScript to view the comments powered by <a href="https://giscus.app/" rel="external nofollow noopener noreferrer">giscus</a>.
        </noscript></div></article>

  <aside class="toc" id="toc-auto" aria-label="目录"><h2 class="toc-title">目录&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden="true"></i></h2>
      <div class="toc-content" id="toc-content-auto"></div></aside></main><footer class="footer">
    <div class="footer-container"><div class="footer-line copyright" itemscope itemtype="http://schema.org/CreativeWork"><i class="fa-regular fa-copyright fa-fw" aria-hidden="true"></i>
            <span itemprop="copyrightYear">2018 - 2024</span><span class="author" itemprop="copyrightHolder">
              <a href="https://github.com/DDuuuu"target="_blank" rel="external nofollow noopener noreferrer">AndrewDu</a></span></div><div class="footer-line statistics"><span class="site-time" title='网站运行中……'><i class="fa-solid fa-heartbeat fa-fw animate-icon" aria-hidden="true"></i><span class="ms-1 d-none">网站运行时间:</span><span class="run-times ms-1">网站运行中……</span></span></div><div class="footer-line visitor">
          <span id="busuanzi_container_site_uv" title='总访客数'><i class="fa-regular fa-user fa-fw" aria-hidden="true"></i>&nbsp;<span id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden="true"></i></span></span><span id="busuanzi_container_site_pv" class="footer-divider" title='总访问量'><i class="fa-regular fa-eye fa-fw" aria-hidden="true"></i>&nbsp;<span id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden="true"></i></span></span>
        </div></div>
  </footer></div><div class="widgets"><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role="button" aria-label="回到顶部"><i class="fa-solid fa-arrow-up fa-fw" aria-hidden="true"></i><span class="variant-numeric d-none">0%</span>
        </div><div class="fixed-button view-comments d-none" role="button" aria-label="查看评论"><i class="fa-solid fa-comment fa-fw" aria-hidden="true"></i></div></div><a href="https://github.com/DDuuuu" title="AndrewDu GitHub"target="_blank" rel="external nofollow" class="github-corner right d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true" width="56" height="56"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><div id="mask"></div><div class="reading-progress-bar" style="left: 0;top: 0;"></div><noscript>
    <div class="noscript-warning">该网站在启用 JavaScript 的情况下效果最佳。</div>
  </noscript>
</div><link rel="stylesheet" href="/lib/lightgallery/css/lightgallery-bundle.min.css"><link rel="preload" href="/lib/katex/katex.min.css" as="style" onload="this.removeAttribute('onload');this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="/lib/katex/katex.min.css"></noscript><link rel="stylesheet" href="/lib/cookieconsent/cookieconsent.min.css"><link rel="stylesheet" href="/lib/pace/themes/blue/pace-theme-minimal.css"><script src="https://polyfill.io/v3/polyfill.min.js?features=Array.prototype.fill%2CArray.prototype.find%2CArray.from%2CIntersectionObserver%2CMath.sign%2CObject.assign%2CPromise%2CObject.entries%2Chtml5shiv%2CObject.values%2Cfetch%2CElement.prototype.after"></script><script src="/lib/object-fit-images/ofi.min.js"></script><script src="/lib/autocomplete/autocomplete.min.js" defer></script><script src="/lib/fuse/fuse.min.js" defer></script><script src="/lib/instant-page/instantpage.min.js" async defer type="module"></script><script src="/lib/twemoji/twemoji.min.js" defer></script><script src="/lib/lightgallery/lightgallery.min.js" defer></script><script src="/lib/lightgallery/plugins/thumbnail/lg-thumbnail.min.js" defer></script><script src="/lib/lightgallery/plugins/zoom/lg-zoom.min.js" defer></script><script src="/lib/typeit/index.umd.js" defer></script><script src="/lib/katex/katex.min.js" defer></script><script src="/lib/katex/auto-render.min.js" defer></script><script src="/lib/katex/copy-tex.min.js" defer></script><script src="/lib/katex/mhchem.min.js" defer></script><script src="/lib/cookieconsent/cookieconsent.min.js" defer></script><script src="/lib/pangu/pangu.min.js" defer></script><script src="/lib/cell-watermark/watermark.min.js" defer></script><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async defer></script><script src="/lib/pace/pace.min.js" async defer></script><script>window.config={"autoBookmark":true,"code":{"copyTitle":"复制到剪贴板","maxShownLines":999999},"comment":{"enable":true,"expired":false,"giscus":{"darkTheme":"dark","lightTheme":"light","origin":"https://giscus.app"}},"cookieconsent":{"content":{"dismiss":"同意","link":"了解更多","message":"本网站使用 Cookies 来改善您的浏览体验。"},"enable":true,"palette":{"button":{"background":"#f0f0f0"},"popup":{"background":"#1aa3ff"}},"theme":"edgeless"},"enablePWA":true,"lightgallery":true,"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":true,"left":"\\begin{equation}","right":"\\end{equation}"},{"display":true,"left":"\\begin{equation*}","right":"\\end{equation*}"},{"display":true,"left":"\\begin{align}","right":"\\end{align}"},{"display":true,"left":"\\begin{align*}","right":"\\end{align*}"},{"display":true,"left":"\\begin{alignat}","right":"\\end{alignat}"},{"display":true,"left":"\\begin{alignat*}","right":"\\end{alignat*}"},{"display":true,"left":"\\begin{gather}","right":"\\end{gather}"},{"display":true,"left":"\\begin{CD}","right":"\\end{CD}"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"pangu":{"enable":true,"selector":"article"},"search":{"distance":100,"findAllMatches":false,"fuseIndexURL":"/index.json","highlightTag":"em","ignoreFieldNorm":false,"ignoreLocation":false,"isCaseSensitive":false,"location":0,"maxResultLength":12,"minMatchCharLength":2,"noResultsFound":"没有找到结果","snippetLength":100,"threshold":0.3,"type":"fuse","useExtendedSearch":false},"siteTime":"2018-02-22T04:10:22+08:00","twemoji":true,"typeit":{"cursorChar":"|","cursorSpeed":1000,"duration":-1,"loop":false,"speed":100},"version":"v0.3.8","watermark":{"colspacing":300,"content":"Andrew.Du","enable":true,"fontfamily":"inherit","fontsize":0.85,"height":20,"opacity":0.1,"rotate":15,"rowspacing":300,"width":150}};</script><script src="/js/theme.min.js" defer></script></body>
</html>
